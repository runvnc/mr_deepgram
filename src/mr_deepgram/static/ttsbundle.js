(function(){"use strict";var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function me(w){if(w.__esModule)return w;var S=w.default;if(typeof S=="function"){var L=function q(){return this instanceof q?Reflect.construct(S,arguments,this.constructor):S.apply(this,arguments)};L.prototype=S.prototype}else L={};return Object.defineProperty(L,"__esModule",{value:!0}),Object.keys(w).forEach(function(q){var B=Object.getOwnPropertyDescriptor(w,q);Object.defineProperty(L,q,B.get?B:{enumerable:!0,get:function(){return w[q]}})}),L}function pn(w){throw new Error('Could not dynamically require "'+w+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zt={exports:{}};const dn=new Proxy({},{get(w,S){throw new Error(`Module "crypto" has been externalized for browser compatibility. Cannot access "crypto.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),yn=me(Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"})));var Ue={exports:{}},er;function vn(){if(er)return Ue.exports;er=1;var w=typeof Reflect=="object"?Reflect:null,S=w&&typeof w.apply=="function"?w.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},L;w&&typeof w.ownKeys=="function"?L=w.ownKeys:Object.getOwnPropertySymbols?L=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:L=function(e){return Object.getOwnPropertyNames(e)};function q(n){console&&console.warn&&console.warn(n)}var B=Number.isNaN||function(e){return e!==e};function A(){A.init.call(this)}Ue.exports=A,Ue.exports.once=c,A.EventEmitter=A,A.prototype._events=void 0,A.prototype._eventsCount=0,A.prototype._maxListeners=void 0;var W=10;function g(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(A,"defaultMaxListeners",{enumerable:!0,get:function(){return W},set:function(n){if(typeof n!="number"||n<0||B(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");W=n}}),A.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},A.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||B(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function m(n){return n._maxListeners===void 0?A.defaultMaxListeners:n._maxListeners}A.prototype.getMaxListeners=function(){return m(this)},A.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a=e==="error",p=this._events;if(p!==void 0)a=a&&p.error===void 0;else if(!a)return!1;if(a){var v;if(t.length>0&&(v=t[0]),v instanceof Error)throw v;var x=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw x.context=v,x}var y=p[e];if(y===void 0)return!1;if(typeof y=="function")S(y,this,t);else for(var C=y.length,U=i(y,C),r=0;r<C;++r)S(U[r],this,t);return!0};function f(n,e,t,r){var a,p,v;if(g(t),p=n._events,p===void 0?(p=n._events=Object.create(null),n._eventsCount=0):(p.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),p=n._events),v=p[e]),v===void 0)v=p[e]=t,++n._eventsCount;else if(typeof v=="function"?v=p[e]=r?[t,v]:[v,t]:r?v.unshift(t):v.push(t),a=m(n),a>0&&v.length>a&&!v.warned){v.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=n,x.type=e,x.count=v.length,q(x)}return n}A.prototype.addListener=function(e,t){return f(this,e,t,!1)},A.prototype.on=A.prototype.addListener,A.prototype.prependListener=function(e,t){return f(this,e,t,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},a=h.bind(r);return a.listener=t,r.wrapFn=a,a}A.prototype.once=function(e,t){return g(t),this.on(e,b(this,e,t)),this},A.prototype.prependOnceListener=function(e,t){return g(t),this.prependListener(e,b(this,e,t)),this},A.prototype.removeListener=function(e,t){var r,a,p,v,x;if(g(t),a=this._events,a===void 0)return this;if(r=a[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(p=-1,v=r.length-1;v>=0;v--)if(r[v]===t||r[v].listener===t){x=r[v].listener,p=v;break}if(p<0)return this;p===0?r.shift():d(r,p),r.length===1&&(a[e]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",e,x||t)}return this},A.prototype.off=A.prototype.removeListener,A.prototype.removeAllListeners=function(e){var t,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var p=Object.keys(r),v;for(a=0;a<p.length;++a)v=p[a],v!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this};function _(n,e,t){var r=n._events;if(r===void 0)return[];var a=r[e];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?s(a):i(a,a.length)}A.prototype.listeners=function(e){return _(this,e,!0)},A.prototype.rawListeners=function(e){return _(this,e,!1)},A.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):u.call(n,e)},A.prototype.listenerCount=u;function u(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}A.prototype.eventNames=function(){return this._eventsCount>0?L(this._events):[]};function i(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function d(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function s(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function c(n,e){return new Promise(function(t,r){function a(v){n.removeListener(e,p),r(v)}function p(){typeof n.removeListener=="function"&&n.removeListener("error",a),t([].slice.call(arguments))}o(n,e,p,{once:!0}),e!=="error"&&l(n,a,{once:!0})})}function l(n,e,t){typeof n.on=="function"&&o(n,"error",e,t)}function o(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function a(p){r.once&&n.removeEventListener(e,a),t(p)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}return Ue.exports}const mn=new Proxy({},{get(w,S){throw new Error(`Module "fs" has been externalized for browser compatibility. Cannot access "fs.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),_n=me(Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"}))),gn=new Proxy({},{get(w,S){throw new Error(`Module "http" has been externalized for browser compatibility. Cannot access "http.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),bn=me(Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"}))),wn=new Proxy({},{get(w,S){throw new Error(`Module "https" has been externalized for browser compatibility. Cannot access "https.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Sn=me(Object.freeze(Object.defineProperty({__proto__:null,default:wn},Symbol.toStringTag,{value:"Module"}))),En=new Proxy({},{get(w,S){throw new Error(`Module "net" has been externalized for browser compatibility. Cannot access "net.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),xn=me(Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"}))),On=new Proxy({},{get(w,S){throw new Error(`Module "os" has been externalized for browser compatibility. Cannot access "os.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Pn=me(Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"}))),Ln=new Proxy({},{get(w,S){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),An=me(Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"}))),Rn=new Proxy({},{get(w,S){throw new Error(`Module "querystring" has been externalized for browser compatibility. Cannot access "querystring.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Tn=me(Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"}))),Cn=new Proxy({},{get(w,S){throw new Error(`Module "stream" has been externalized for browser compatibility. Cannot access "stream.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),qn=me(Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"}))),kn=new Proxy({},{get(w,S){throw new Error(`Module "tls" has been externalized for browser compatibility. Cannot access "tls.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Nn=me(Object.freeze(Object.defineProperty({__proto__:null,default:kn},Symbol.toStringTag,{value:"Module"})));var Pe={},$e={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */$e.exports;var tr;function $n(){return tr||(tr=1,function(w,S){(function(L){var q=S&&!S.nodeType&&S,B=w&&!w.nodeType&&w,A=typeof Re=="object"&&Re;(A.global===A||A.window===A||A.self===A)&&(L=A);var W,g=2147483647,m=36,f=1,h=26,b=38,_=700,u=72,i=128,d="-",s=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},n=m-f,e=Math.floor,t=String.fromCharCode,r;function a($){throw new RangeError(o[$])}function p($,I){for(var z=$.length,N=[];z--;)N[z]=I($[z]);return N}function v($,I){var z=$.split("@"),N="";z.length>1&&(N=z[0]+"@",$=z[1]),$=$.replace(l,".");var j=$.split("."),X=p(j,I).join(".");return N+X}function x($){for(var I=[],z=0,N=$.length,j,X;z<N;)j=$.charCodeAt(z++),j>=55296&&j<=56319&&z<N?(X=$.charCodeAt(z++),(X&64512)==56320?I.push(((j&1023)<<10)+(X&1023)+65536):(I.push(j),z--)):I.push(j);return I}function y($){return p($,function(I){var z="";return I>65535&&(I-=65536,z+=t(I>>>10&1023|55296),I=56320|I&1023),z+=t(I),z}).join("")}function C($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:m}function U($,I){return $+22+75*($<26)-((I!=0)<<5)}function K($,I,z){var N=0;for($=z?e($/_):$>>1,$+=e($/I);$>n*h>>1;N+=m)$=e($/n);return e(N+(n+1)*$/($+b))}function Q($){var I=[],z=$.length,N,j=0,X=i,V=u,Z,oe,ee,G,H,J,re,ne,ae;for(Z=$.lastIndexOf(d),Z<0&&(Z=0),oe=0;oe<Z;++oe)$.charCodeAt(oe)>=128&&a("not-basic"),I.push($.charCodeAt(oe));for(ee=Z>0?Z+1:0;ee<z;){for(G=j,H=1,J=m;ee>=z&&a("invalid-input"),re=C($.charCodeAt(ee++)),(re>=m||re>e((g-j)/H))&&a("overflow"),j+=re*H,ne=J<=V?f:J>=V+h?h:J-V,!(re<ne);J+=m)ae=m-ne,H>e(g/ae)&&a("overflow"),H*=ae;N=I.length+1,V=K(j-G,N,G==0),e(j/N)>g-X&&a("overflow"),X+=e(j/N),j%=N,I.splice(j++,0,X)}return y(I)}function M($){var I,z,N,j,X,V,Z,oe,ee,G,H,J=[],re,ne,ae,le;for($=x($),re=$.length,I=i,z=0,X=u,V=0;V<re;++V)H=$[V],H<128&&J.push(t(H));for(N=j=J.length,j&&J.push(d);N<re;){for(Z=g,V=0;V<re;++V)H=$[V],H>=I&&H<Z&&(Z=H);for(ne=N+1,Z-I>e((g-z)/ne)&&a("overflow"),z+=(Z-I)*ne,I=Z,V=0;V<re;++V)if(H=$[V],H<I&&++z>g&&a("overflow"),H==I){for(oe=z,ee=m;G=ee<=X?f:ee>=X+h?h:ee-X,!(oe<G);ee+=m)le=oe-G,ae=m-G,J.push(t(U(G+le%ae,0))),oe=e(le/ae);J.push(t(U(oe,0))),X=K(z,ne,N==j),z=0,++N}++z,++I}return J.join("")}function k($){return v($,function(I){return s.test(I)?Q(I.slice(4).toLowerCase()):I})}function T($){return v($,function(I){return c.test(I)?"xn--"+M(I):I})}if(W={version:"1.4.1",ucs2:{decode:x,encode:y},decode:Q,encode:M,toASCII:T,toUnicode:k},q&&B)if(w.exports==q)B.exports=W;else for(r in W)W.hasOwnProperty(r)&&(q[r]=W[r]);else L.punycode=W})(Re)}($e,$e.exports)),$e.exports}var Qe,rr;function Te(){return rr||(rr=1,Qe=TypeError),Qe}const In=new Proxy({},{get(w,S){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Mn=me(Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})));var Xe,nr;function Be(){if(nr)return Xe;nr=1;var w=typeof Map=="function"&&Map.prototype,S=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=w&&S&&typeof S.get=="function"?S.get:null,q=w&&Map.prototype.forEach,B=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&B?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,W=B&&A&&typeof A.get=="function"?A.get:null,g=B&&Set.prototype.forEach,m=typeof WeakMap=="function"&&WeakMap.prototype,f=m?WeakMap.prototype.has:null,h=typeof WeakSet=="function"&&WeakSet.prototype,b=h?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,u=_?WeakRef.prototype.deref:null,i=Boolean.prototype.valueOf,d=Object.prototype.toString,s=Function.prototype.toString,c=String.prototype.match,l=String.prototype.slice,o=String.prototype.replace,n=String.prototype.toUpperCase,e=String.prototype.toLowerCase,t=RegExp.prototype.test,r=Array.prototype.concat,a=Array.prototype.join,p=Array.prototype.slice,v=Math.floor,x=typeof BigInt=="function"?BigInt.prototype.valueOf:null,y=Object.getOwnPropertySymbols,C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,U=typeof Symbol=="function"&&typeof Symbol.iterator=="object",K=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===U||!0)?Symbol.toStringTag:null,Q=Object.prototype.propertyIsEnumerable,M=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(E){return E.__proto__}:null);function k(E,O){if(E===1/0||E===-1/0||E!==E||E&&E>-1e3&&E<1e3||t.call(/e/,O))return O;var ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof E=="number"){var se=E<0?-v(-E):v(E);if(se!==E){var ce=String(se),te=l.call(O,ce.length+1);return o.call(ce,ie,"$&_")+"."+o.call(o.call(te,/([0-9]{3})/g,"$&_"),/_$/,"")}}return o.call(O,ie,"$&_")}var T=Mn,$=T.custom,I=ne($)?$:null,z={__proto__:null,double:'"',single:"'"},N={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Xe=function E(O,ie,se,ce){var te=ie||{};if(P(te,"quoteStyle")&&!P(z,te.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(P(te,"maxStringLength")&&(typeof te.maxStringLength=="number"?te.maxStringLength<0&&te.maxStringLength!==1/0:te.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var xe=P(te,"customInspect")?te.customInspect:!0;if(typeof xe!="boolean"&&xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(P(te,"indent")&&te.indent!==null&&te.indent!=="	"&&!(parseInt(te.indent,10)===te.indent&&te.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(P(te,"numericSeparator")&&typeof te.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ae=te.numericSeparator;if(typeof O>"u")return"undefined";if(O===null)return"null";if(typeof O=="boolean")return O?"true":"false";if(typeof O=="string")return Ke(O,te);if(typeof O=="number"){if(O===0)return 1/0/O>0?"0":"-0";var ve=String(O);return Ae?k(O,ve):ve}if(typeof O=="bigint"){var Oe=String(O)+"n";return Ae?k(O,Oe):Oe}var Vt=typeof te.depth>"u"?5:te.depth;if(typeof se>"u"&&(se=0),se>=Vt&&Vt>0&&typeof O=="object")return Z(O)?"[Array]":"[Object]";var ke=Me(te,se);if(typeof ce>"u")ce=[];else if(Y(ce,O)>=0)return"[Circular]";function ge(Ne,Ye,xi){if(Ye&&(ce=p.call(ce),ce.push(Ye)),xi){var hn={depth:te.depth};return P(te,"quoteStyle")&&(hn.quoteStyle=te.quoteStyle),E(Ne,hn,se+1,ce)}return E(Ne,te,se+1,ce)}if(typeof O=="function"&&!ee(O)){var on=D(O),sn=qe(O,ge);return"[Function"+(on?": "+on:" (anonymous)")+"]"+(sn.length>0?" { "+a.call(sn,", ")+" }":"")}if(ne(O)){var an=U?o.call(String(O),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(O);return typeof O=="object"&&!U?fe(an):an}if(He(O)){for(var De="<"+e.call(String(O.nodeName)),Ht=O.attributes||[],Je=0;Je<Ht.length;Je++)De+=" "+Ht[Je].name+"="+j(X(Ht[Je].value),"double",te);return De+=">",O.childNodes&&O.childNodes.length&&(De+="..."),De+="</"+e.call(String(O.nodeName))+">",De}if(Z(O)){if(O.length===0)return"[]";var Kt=qe(O,ge);return ke&&!Ce(Kt)?"["+we(Kt,ke)+"]":"[ "+a.call(Kt,", ")+" ]"}if(G(O)){var Jt=qe(O,ge);return!("cause"in Error.prototype)&&"cause"in O&&!Q.call(O,"cause")?"{ ["+String(O)+"] "+a.call(r.call("[cause]: "+ge(O.cause),Jt),", ")+" }":Jt.length===0?"["+String(O)+"]":"{ ["+String(O)+"] "+a.call(Jt,", ")+" }"}if(typeof O=="object"&&xe){if(I&&typeof O[I]=="function"&&T)return T(O,{depth:Vt-se});if(xe!=="symbol"&&typeof O.inspect=="function")return O.inspect()}if(F(O)){var ln=[];return q&&q.call(O,function(Ne,Ye){ln.push(ge(Ye,O,!0)+" => "+ge(Ne,O))}),ye("Map",L.call(O),ln,ke)}if(be(O)){var cn=[];return g&&g.call(O,function(Ne){cn.push(ge(Ne,O))}),ye("Set",W.call(O),cn,ke)}if(ue(O))return he("WeakMap");if(Ve(O))return he("WeakSet");if(Se(O))return he("WeakRef");if(J(O))return fe(ge(Number(O)));if(ae(O))return fe(ge(x.call(O)));if(re(O))return fe(i.call(O));if(H(O))return fe(ge(String(O)));if(typeof window<"u"&&O===window)return"{ [object Window] }";if(typeof globalThis<"u"&&O===globalThis||typeof Re<"u"&&O===Re)return"{ [object globalThis] }";if(!oe(O)&&!ee(O)){var Yt=qe(O,ge),un=M?M(O)===Object.prototype:O instanceof Object||O.constructor===Object,Qt=O instanceof Object?"":"null prototype",fn=!un&&K&&Object(O)===O&&K in O?l.call(R(O),8,-1):Qt?"Object":"",Ei=un||typeof O.constructor!="function"?"":O.constructor.name?O.constructor.name+" ":"",Xt=Ei+(fn||Qt?"["+a.call(r.call([],fn||[],Qt||[]),": ")+"] ":"");return Yt.length===0?Xt+"{}":ke?Xt+"{"+we(Yt,ke)+"}":Xt+"{ "+a.call(Yt,", ")+" }"}return String(O)};function j(E,O,ie){var se=ie.quoteStyle||O,ce=z[se];return ce+E+ce}function X(E){return o.call(String(E),/"/g,"&quot;")}function V(E){return!K||!(typeof E=="object"&&(K in E||typeof E[K]<"u"))}function Z(E){return R(E)==="[object Array]"&&V(E)}function oe(E){return R(E)==="[object Date]"&&V(E)}function ee(E){return R(E)==="[object RegExp]"&&V(E)}function G(E){return R(E)==="[object Error]"&&V(E)}function H(E){return R(E)==="[object String]"&&V(E)}function J(E){return R(E)==="[object Number]"&&V(E)}function re(E){return R(E)==="[object Boolean]"&&V(E)}function ne(E){if(U)return E&&typeof E=="object"&&E instanceof Symbol;if(typeof E=="symbol")return!0;if(!E||typeof E!="object"||!C)return!1;try{return C.call(E),!0}catch{}return!1}function ae(E){if(!E||typeof E!="object"||!x)return!1;try{return x.call(E),!0}catch{}return!1}var le=Object.prototype.hasOwnProperty||function(E){return E in this};function P(E,O){return le.call(E,O)}function R(E){return d.call(E)}function D(E){if(E.name)return E.name;var O=c.call(s.call(E),/^function\s*([\w$]+)/);return O?O[1]:null}function Y(E,O){if(E.indexOf)return E.indexOf(O);for(var ie=0,se=E.length;ie<se;ie++)if(E[ie]===O)return ie;return-1}function F(E){if(!L||!E||typeof E!="object")return!1;try{L.call(E);try{W.call(E)}catch{return!0}return E instanceof Map}catch{}return!1}function ue(E){if(!f||!E||typeof E!="object")return!1;try{f.call(E,f);try{b.call(E,b)}catch{return!0}return E instanceof WeakMap}catch{}return!1}function Se(E){if(!u||!E||typeof E!="object")return!1;try{return u.call(E),!0}catch{}return!1}function be(E){if(!W||!E||typeof E!="object")return!1;try{W.call(E);try{L.call(E)}catch{return!0}return E instanceof Set}catch{}return!1}function Ve(E){if(!b||!E||typeof E!="object")return!1;try{b.call(E,b);try{f.call(E,f)}catch{return!0}return E instanceof WeakSet}catch{}return!1}function He(E){return!E||typeof E!="object"?!1:typeof HTMLElement<"u"&&E instanceof HTMLElement?!0:typeof E.nodeName=="string"&&typeof E.getAttribute=="function"}function Ke(E,O){if(E.length>O.maxStringLength){var ie=E.length-O.maxStringLength,se="... "+ie+" more character"+(ie>1?"s":"");return Ke(l.call(E,0,O.maxStringLength),O)+se}var ce=N[O.quoteStyle||"single"];ce.lastIndex=0;var te=o.call(o.call(E,ce,"\\$1"),/[\x00-\x1f]/g,Le);return j(te,"single",O)}function Le(E){var O=E.charCodeAt(0),ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[O];return ie?"\\"+ie:"\\x"+(O<16?"0":"")+n.call(O.toString(16))}function fe(E){return"Object("+E+")"}function he(E){return E+" { ? }"}function ye(E,O,ie,se){var ce=se?we(ie,se):a.call(ie,", ");return E+" ("+O+") {"+ce+"}"}function Ce(E){for(var O=0;O<E.length;O++)if(Y(E[O],`
`)>=0)return!1;return!0}function Me(E,O){var ie;if(E.indent==="	")ie="	";else if(typeof E.indent=="number"&&E.indent>0)ie=a.call(Array(E.indent+1)," ");else return null;return{base:ie,prev:a.call(Array(O+1),ie)}}function we(E,O){if(E.length===0)return"";var ie=`
`+O.prev+O.base;return ie+a.call(E,","+ie)+`
`+O.prev}function qe(E,O){var ie=Z(E),se=[];if(ie){se.length=E.length;for(var ce=0;ce<E.length;ce++)se[ce]=P(E,ce)?O(E[ce],E):""}var te=typeof y=="function"?y(E):[],xe;if(U){xe={};for(var Ae=0;Ae<te.length;Ae++)xe["$"+te[Ae]]=te[Ae]}for(var ve in E)P(E,ve)&&(ie&&String(Number(ve))===ve&&ve<E.length||U&&xe["$"+ve]instanceof Symbol||(t.call(/[^\w$]/,ve)?se.push(O(ve,E)+": "+O(E[ve],E)):se.push(ve+": "+O(E[ve],E))));if(typeof y=="function")for(var Oe=0;Oe<te.length;Oe++)Q.call(E,te[Oe])&&se.push("["+O(te[Oe])+"]: "+O(E[te[Oe]],E));return se}return Xe}var Ze,ir;function Dn(){if(ir)return Ze;ir=1;var w=Be(),S=Te(),L=function(g,m,f){for(var h=g,b;(b=h.next)!=null;h=b)if(b.key===m)return h.next=b.next,f||(b.next=g.next,g.next=b),b},q=function(g,m){if(g){var f=L(g,m);return f&&f.value}},B=function(g,m,f){var h=L(g,m);h?h.value=f:g.next={key:m,next:g.next,value:f}},A=function(g,m){return g?!!L(g,m):!1},W=function(g,m){if(g)return L(g,m,!0)};return Ze=function(){var m,f={assert:function(h){if(!f.has(h))throw new S("Side channel does not contain "+w(h))},delete:function(h){var b=m&&m.next,_=W(m,h);return _&&b&&b===_&&(m=void 0),!!_},get:function(h){return q(m,h)},has:function(h){return A(m,h)},set:function(h,b){m||(m={next:void 0}),B(m,h,b)}};return f},Ze}var et,or;function sr(){return or||(or=1,et=Object),et}var tt,ar;function Un(){return ar||(ar=1,tt=Error),tt}var rt,lr;function Bn(){return lr||(lr=1,rt=EvalError),rt}var nt,cr;function Fn(){return cr||(cr=1,nt=RangeError),nt}var it,ur;function jn(){return ur||(ur=1,it=ReferenceError),it}var ot,fr;function Wn(){return fr||(fr=1,ot=SyntaxError),ot}var st,hr;function Gn(){return hr||(hr=1,st=URIError),st}var at,pr;function zn(){return pr||(pr=1,at=Math.abs),at}var lt,dr;function Vn(){return dr||(dr=1,lt=Math.floor),lt}var ct,yr;function Hn(){return yr||(yr=1,ct=Math.max),ct}var ut,vr;function Kn(){return vr||(vr=1,ut=Math.min),ut}var ft,mr;function Jn(){return mr||(mr=1,ft=Math.pow),ft}var ht,_r;function Yn(){return _r||(_r=1,ht=Math.round),ht}var pt,gr;function Qn(){return gr||(gr=1,pt=Number.isNaN||function(S){return S!==S}),pt}var dt,br;function Xn(){if(br)return dt;br=1;var w=Qn();return dt=function(L){return w(L)||L===0?L:L<0?-1:1},dt}var yt,wr;function Zn(){return wr||(wr=1,yt=Object.getOwnPropertyDescriptor),yt}var vt,Sr;function Er(){if(Sr)return vt;Sr=1;var w=Zn();if(w)try{w([],"length")}catch{w=null}return vt=w,vt}var mt,xr;function ei(){if(xr)return mt;xr=1;var w=Object.defineProperty||!1;if(w)try{w({},"a",{value:1})}catch{w=!1}return mt=w,mt}var _t,Or;function ti(){return Or||(Or=1,_t=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var S={},L=Symbol("test"),q=Object(L);if(typeof L=="string"||Object.prototype.toString.call(L)!=="[object Symbol]"||Object.prototype.toString.call(q)!=="[object Symbol]")return!1;var B=42;S[L]=B;for(var A in S)return!1;if(typeof Object.keys=="function"&&Object.keys(S).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(S).length!==0)return!1;var W=Object.getOwnPropertySymbols(S);if(W.length!==1||W[0]!==L||!Object.prototype.propertyIsEnumerable.call(S,L))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(S,L);if(g.value!==B||g.enumerable!==!0)return!1}return!0}),_t}var gt,Pr;function ri(){if(Pr)return gt;Pr=1;var w=typeof Symbol<"u"&&Symbol,S=ti();return gt=function(){return typeof w!="function"||typeof Symbol!="function"||typeof w("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:S()},gt}var bt,Lr;function Ar(){return Lr||(Lr=1,bt=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),bt}var wt,Rr;function Tr(){if(Rr)return wt;Rr=1;var w=sr();return wt=w.getPrototypeOf||null,wt}var St,Cr;function ni(){if(Cr)return St;Cr=1;var w="Function.prototype.bind called on incompatible ",S=Object.prototype.toString,L=Math.max,q="[object Function]",B=function(m,f){for(var h=[],b=0;b<m.length;b+=1)h[b]=m[b];for(var _=0;_<f.length;_+=1)h[_+m.length]=f[_];return h},A=function(m,f){for(var h=[],b=f,_=0;b<m.length;b+=1,_+=1)h[_]=m[b];return h},W=function(g,m){for(var f="",h=0;h<g.length;h+=1)f+=g[h],h+1<g.length&&(f+=m);return f};return St=function(m){var f=this;if(typeof f!="function"||S.apply(f)!==q)throw new TypeError(w+f);for(var h=A(arguments,1),b,_=function(){if(this instanceof b){var c=f.apply(this,B(h,arguments));return Object(c)===c?c:this}return f.apply(m,B(h,arguments))},u=L(0,f.length-h.length),i=[],d=0;d<u;d++)i[d]="$"+d;if(b=Function("binder","return function ("+W(i,",")+"){ return binder.apply(this,arguments); }")(_),f.prototype){var s=function(){};s.prototype=f.prototype,b.prototype=new s,s.prototype=null}return b},St}var Et,qr;function Fe(){if(qr)return Et;qr=1;var w=ni();return Et=Function.prototype.bind||w,Et}var xt,kr;function Ot(){return kr||(kr=1,xt=Function.prototype.call),xt}var Pt,Nr;function $r(){return Nr||(Nr=1,Pt=Function.prototype.apply),Pt}var Lt,Ir;function ii(){return Ir||(Ir=1,Lt=typeof Reflect<"u"&&Reflect&&Reflect.apply),Lt}var At,Mr;function oi(){if(Mr)return At;Mr=1;var w=Fe(),S=$r(),L=Ot(),q=ii();return At=q||w.call(L,S),At}var Rt,Dr;function Ur(){if(Dr)return Rt;Dr=1;var w=Fe(),S=Te(),L=Ot(),q=oi();return Rt=function(A){if(A.length<1||typeof A[0]!="function")throw new S("a function is required");return q(w,L,A)},Rt}var Tt,Br;function si(){if(Br)return Tt;Br=1;var w=Ur(),S=Er(),L;try{L=[].__proto__===Array.prototype}catch(W){if(!W||typeof W!="object"||!("code"in W)||W.code!=="ERR_PROTO_ACCESS")throw W}var q=!!L&&S&&S(Object.prototype,"__proto__"),B=Object,A=B.getPrototypeOf;return Tt=q&&typeof q.get=="function"?w([q.get]):typeof A=="function"?function(g){return A(g==null?g:B(g))}:!1,Tt}var Ct,Fr;function ai(){if(Fr)return Ct;Fr=1;var w=Ar(),S=Tr(),L=si();return Ct=w?function(B){return w(B)}:S?function(B){if(!B||typeof B!="object"&&typeof B!="function")throw new TypeError("getProto: not an object");return S(B)}:L?function(B){return L(B)}:null,Ct}var qt,jr;function li(){if(jr)return qt;jr=1;var w=Function.prototype.call,S=Object.prototype.hasOwnProperty,L=Fe();return qt=L.call(w,S),qt}var kt,Wr;function Nt(){if(Wr)return kt;Wr=1;var w,S=sr(),L=Un(),q=Bn(),B=Fn(),A=jn(),W=Wn(),g=Te(),m=Gn(),f=zn(),h=Vn(),b=Hn(),_=Kn(),u=Jn(),i=Yn(),d=Xn(),s=Function,c=function(ee){try{return s('"use strict"; return ('+ee+").constructor;")()}catch{}},l=Er(),o=ei(),n=function(){throw new g},e=l?function(){try{return arguments.callee,n}catch{try{return l(arguments,"callee").get}catch{return n}}}():n,t=ri()(),r=ai(),a=Tr(),p=Ar(),v=$r(),x=Ot(),y={},C=typeof Uint8Array>"u"||!r?w:r(Uint8Array),U={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":t&&r?r([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":q,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&r?r(r([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!r?w:r(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":S,"%Object.getOwnPropertyDescriptor%":l,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":B,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!r?w:r(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&r?r(""[Symbol.iterator]()):w,"%Symbol%":t?Symbol:w,"%SyntaxError%":W,"%ThrowTypeError%":e,"%TypedArray%":C,"%TypeError%":g,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":v,"%Object.defineProperty%":o,"%Object.getPrototypeOf%":a,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":b,"%Math.min%":_,"%Math.pow%":u,"%Math.round%":i,"%Math.sign%":d,"%Reflect.getPrototypeOf%":p};if(r)try{null.error}catch(ee){var K=r(r(ee));U["%Error.prototype%"]=K}var Q=function ee(G){var H;if(G==="%AsyncFunction%")H=c("async function () {}");else if(G==="%GeneratorFunction%")H=c("function* () {}");else if(G==="%AsyncGeneratorFunction%")H=c("async function* () {}");else if(G==="%AsyncGenerator%"){var J=ee("%AsyncGeneratorFunction%");J&&(H=J.prototype)}else if(G==="%AsyncIteratorPrototype%"){var re=ee("%AsyncGenerator%");re&&r&&(H=r(re.prototype))}return U[G]=H,H},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=Fe(),T=li(),$=k.call(x,Array.prototype.concat),I=k.call(v,Array.prototype.splice),z=k.call(x,String.prototype.replace),N=k.call(x,String.prototype.slice),j=k.call(x,RegExp.prototype.exec),X=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,Z=function(G){var H=N(G,0,1),J=N(G,-1);if(H==="%"&&J!=="%")throw new W("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&H!=="%")throw new W("invalid intrinsic syntax, expected opening `%`");var re=[];return z(G,X,function(ne,ae,le,P){re[re.length]=le?z(P,V,"$1"):ae||ne}),re},oe=function(G,H){var J=G,re;if(T(M,J)&&(re=M[J],J="%"+re[0]+"%"),T(U,J)){var ne=U[J];if(ne===y&&(ne=Q(J)),typeof ne>"u"&&!H)throw new g("intrinsic "+G+" exists, but is not available. Please file an issue!");return{alias:re,name:J,value:ne}}throw new W("intrinsic "+G+" does not exist!")};return kt=function(G,H){if(typeof G!="string"||G.length===0)throw new g("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof H!="boolean")throw new g('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,G)===null)throw new W("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=Z(G),re=J.length>0?J[0]:"",ne=oe("%"+re+"%",H),ae=ne.name,le=ne.value,P=!1,R=ne.alias;R&&(re=R[0],I(J,$([0,1],R)));for(var D=1,Y=!0;D<J.length;D+=1){var F=J[D],ue=N(F,0,1),Se=N(F,-1);if((ue==='"'||ue==="'"||ue==="`"||Se==='"'||Se==="'"||Se==="`")&&ue!==Se)throw new W("property names with quotes must have matching quotes");if((F==="constructor"||!Y)&&(P=!0),re+="."+F,ae="%"+re+"%",T(U,ae))le=U[ae];else if(le!=null){if(!(F in le)){if(!H)throw new g("base intrinsic for "+G+" exists, but the property is not available.");return}if(l&&D+1>=J.length){var be=l(le,F);Y=!!be,Y&&"get"in be&&!("originalValue"in be.get)?le=be.get:le=le[F]}else Y=T(le,F),le=le[F];Y&&!P&&(U[ae]=le)}}return le},kt}var $t,Gr;function zr(){if(Gr)return $t;Gr=1;var w=Nt(),S=Ur(),L=S([w("%String.prototype.indexOf%")]);return $t=function(B,A){var W=w(B,!!A);return typeof W=="function"&&L(B,".prototype.")>-1?S([W]):W},$t}var It,Vr;function Hr(){if(Vr)return It;Vr=1;var w=Nt(),S=zr(),L=Be(),q=Te(),B=w("%Map%",!0),A=S("Map.prototype.get",!0),W=S("Map.prototype.set",!0),g=S("Map.prototype.has",!0),m=S("Map.prototype.delete",!0),f=S("Map.prototype.size",!0);return It=!!B&&function(){var b,_={assert:function(u){if(!_.has(u))throw new q("Side channel does not contain "+L(u))},delete:function(u){if(b){var i=m(b,u);return f(b)===0&&(b=void 0),i}return!1},get:function(u){if(b)return A(b,u)},has:function(u){return b?g(b,u):!1},set:function(u,i){b||(b=new B),W(b,u,i)}};return _},It}var Mt,Kr;function ci(){if(Kr)return Mt;Kr=1;var w=Nt(),S=zr(),L=Be(),q=Hr(),B=Te(),A=w("%WeakMap%",!0),W=S("WeakMap.prototype.get",!0),g=S("WeakMap.prototype.set",!0),m=S("WeakMap.prototype.has",!0),f=S("WeakMap.prototype.delete",!0);return Mt=A?function(){var b,_,u={assert:function(i){if(!u.has(i))throw new B("Side channel does not contain "+L(i))},delete:function(i){if(A&&i&&(typeof i=="object"||typeof i=="function")){if(b)return f(b,i)}else if(q&&_)return _.delete(i);return!1},get:function(i){return A&&i&&(typeof i=="object"||typeof i=="function")&&b?W(b,i):_&&_.get(i)},has:function(i){return A&&i&&(typeof i=="object"||typeof i=="function")&&b?m(b,i):!!_&&_.has(i)},set:function(i,d){A&&i&&(typeof i=="object"||typeof i=="function")?(b||(b=new A),g(b,i,d)):q&&(_||(_=q()),_.set(i,d))}};return u}:q,Mt}var Dt,Jr;function ui(){if(Jr)return Dt;Jr=1;var w=Te(),S=Be(),L=Dn(),q=Hr(),B=ci(),A=B||q||L;return Dt=function(){var g,m={assert:function(f){if(!m.has(f))throw new w("Side channel does not contain "+S(f))},delete:function(f){return!!g&&g.delete(f)},get:function(f){return g&&g.get(f)},has:function(f){return!!g&&g.has(f)},set:function(f,h){g||(g=A()),g.set(f,h)}};return m},Dt}var Ut,Yr;function Bt(){if(Yr)return Ut;Yr=1;var w=String.prototype.replace,S=/%20/g,L={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Ut={default:L.RFC3986,formatters:{RFC1738:function(q){return w.call(q,S,"+")},RFC3986:function(q){return String(q)}},RFC1738:L.RFC1738,RFC3986:L.RFC3986},Ut}var Ft,Qr;function Xr(){if(Qr)return Ft;Qr=1;var w=Bt(),S=Object.prototype.hasOwnProperty,L=Array.isArray,q=function(){for(var s=[],c=0;c<256;++c)s.push("%"+((c<16?"0":"")+c.toString(16)).toUpperCase());return s}(),B=function(c){for(;c.length>1;){var l=c.pop(),o=l.obj[l.prop];if(L(o)){for(var n=[],e=0;e<o.length;++e)typeof o[e]<"u"&&n.push(o[e]);l.obj[l.prop]=n}}},A=function(c,l){for(var o=l&&l.plainObjects?{__proto__:null}:{},n=0;n<c.length;++n)typeof c[n]<"u"&&(o[n]=c[n]);return o},W=function s(c,l,o){if(!l)return c;if(typeof l!="object"&&typeof l!="function"){if(L(c))c.push(l);else if(c&&typeof c=="object")(o&&(o.plainObjects||o.allowPrototypes)||!S.call(Object.prototype,l))&&(c[l]=!0);else return[c,l];return c}if(!c||typeof c!="object")return[c].concat(l);var n=c;return L(c)&&!L(l)&&(n=A(c,o)),L(c)&&L(l)?(l.forEach(function(e,t){if(S.call(c,t)){var r=c[t];r&&typeof r=="object"&&e&&typeof e=="object"?c[t]=s(r,e,o):c.push(e)}else c[t]=e}),c):Object.keys(l).reduce(function(e,t){var r=l[t];return S.call(e,t)?e[t]=s(e[t],r,o):e[t]=r,e},n)},g=function(c,l){return Object.keys(l).reduce(function(o,n){return o[n]=l[n],o},c)},m=function(s,c,l){var o=s.replace(/\+/g," ");if(l==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},f=1024,h=function(c,l,o,n,e){if(c.length===0)return c;var t=c;if(typeof c=="symbol"?t=Symbol.prototype.toString.call(c):typeof c!="string"&&(t=String(c)),o==="iso-8859-1")return escape(t).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var r="",a=0;a<t.length;a+=f){for(var p=t.length>=f?t.slice(a,a+f):t,v=[],x=0;x<p.length;++x){var y=p.charCodeAt(x);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||e===w.RFC1738&&(y===40||y===41)){v[v.length]=p.charAt(x);continue}if(y<128){v[v.length]=q[y];continue}if(y<2048){v[v.length]=q[192|y>>6]+q[128|y&63];continue}if(y<55296||y>=57344){v[v.length]=q[224|y>>12]+q[128|y>>6&63]+q[128|y&63];continue}x+=1,y=65536+((y&1023)<<10|p.charCodeAt(x)&1023),v[v.length]=q[240|y>>18]+q[128|y>>12&63]+q[128|y>>6&63]+q[128|y&63]}r+=v.join("")}return r},b=function(c){for(var l=[{obj:{o:c},prop:"o"}],o=[],n=0;n<l.length;++n)for(var e=l[n],t=e.obj[e.prop],r=Object.keys(t),a=0;a<r.length;++a){var p=r[a],v=t[p];typeof v=="object"&&v!==null&&o.indexOf(v)===-1&&(l.push({obj:t,prop:p}),o.push(v))}return B(l),c},_=function(c){return Object.prototype.toString.call(c)==="[object RegExp]"},u=function(c){return!c||typeof c!="object"?!1:!!(c.constructor&&c.constructor.isBuffer&&c.constructor.isBuffer(c))},i=function(c,l){return[].concat(c,l)},d=function(c,l){if(L(c)){for(var o=[],n=0;n<c.length;n+=1)o.push(l(c[n]));return o}return l(c)};return Ft={arrayToObject:A,assign:g,combine:i,compact:b,decode:m,encode:h,isBuffer:u,isRegExp:_,maybeMap:d,merge:W},Ft}var jt,Zr;function fi(){if(Zr)return jt;Zr=1;var w=ui(),S=Xr(),L=Bt(),q=Object.prototype.hasOwnProperty,B={brackets:function(s){return s+"[]"},comma:"comma",indices:function(s,c){return s+"["+c+"]"},repeat:function(s){return s}},A=Array.isArray,W=Array.prototype.push,g=function(d,s){W.apply(d,A(s)?s:[s])},m=Date.prototype.toISOString,f=L.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:S.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:L.formatters[f],indices:!1,serializeDate:function(s){return m.call(s)},skipNulls:!1,strictNullHandling:!1},b=function(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"||typeof s=="symbol"||typeof s=="bigint"},_={},u=function d(s,c,l,o,n,e,t,r,a,p,v,x,y,C,U,K,Q,M){for(var k=s,T=M,$=0,I=!1;(T=T.get(_))!==void 0&&!I;){var z=T.get(s);if($+=1,typeof z<"u"){if(z===$)throw new RangeError("Cyclic object value");I=!0}typeof T.get(_)>"u"&&($=0)}if(typeof p=="function"?k=p(c,k):k instanceof Date?k=y(k):l==="comma"&&A(k)&&(k=S.maybeMap(k,function(ae){return ae instanceof Date?y(ae):ae})),k===null){if(e)return a&&!K?a(c,h.encoder,Q,"key",C):c;k=""}if(b(k)||S.isBuffer(k)){if(a){var N=K?c:a(c,h.encoder,Q,"key",C);return[U(N)+"="+U(a(k,h.encoder,Q,"value",C))]}return[U(c)+"="+U(String(k))]}var j=[];if(typeof k>"u")return j;var X;if(l==="comma"&&A(k))K&&a&&(k=S.maybeMap(k,a)),X=[{value:k.length>0?k.join(",")||null:void 0}];else if(A(p))X=p;else{var V=Object.keys(k);X=v?V.sort(v):V}var Z=r?String(c).replace(/\./g,"%2E"):String(c),oe=o&&A(k)&&k.length===1?Z+"[]":Z;if(n&&A(k)&&k.length===0)return oe+"[]";for(var ee=0;ee<X.length;++ee){var G=X[ee],H=typeof G=="object"&&G&&typeof G.value<"u"?G.value:k[G];if(!(t&&H===null)){var J=x&&r?String(G).replace(/\./g,"%2E"):String(G),re=A(k)?typeof l=="function"?l(oe,J):oe:oe+(x?"."+J:"["+J+"]");M.set(s,$);var ne=w();ne.set(_,M),g(j,d(H,re,l,o,n,e,t,r,l==="comma"&&K&&A(k)?null:a,p,v,x,y,C,U,K,Q,ne))}}return j},i=function(s){if(!s)return h;if(typeof s.allowEmptyArrays<"u"&&typeof s.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof s.encodeDotInKeys<"u"&&typeof s.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(s.encoder!==null&&typeof s.encoder<"u"&&typeof s.encoder!="function")throw new TypeError("Encoder has to be a function.");var c=s.charset||h.charset;if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=L.default;if(typeof s.format<"u"){if(!q.call(L.formatters,s.format))throw new TypeError("Unknown format option provided.");l=s.format}var o=L.formatters[l],n=h.filter;(typeof s.filter=="function"||A(s.filter))&&(n=s.filter);var e;if(s.arrayFormat in B?e=s.arrayFormat:"indices"in s?e=s.indices?"indices":"repeat":e=h.arrayFormat,"commaRoundTrip"in s&&typeof s.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var t=typeof s.allowDots>"u"?s.encodeDotInKeys===!0?!0:h.allowDots:!!s.allowDots;return{addQueryPrefix:typeof s.addQueryPrefix=="boolean"?s.addQueryPrefix:h.addQueryPrefix,allowDots:t,allowEmptyArrays:typeof s.allowEmptyArrays=="boolean"?!!s.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:e,charset:c,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!s.commaRoundTrip,delimiter:typeof s.delimiter>"u"?h.delimiter:s.delimiter,encode:typeof s.encode=="boolean"?s.encode:h.encode,encodeDotInKeys:typeof s.encodeDotInKeys=="boolean"?s.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof s.encoder=="function"?s.encoder:h.encoder,encodeValuesOnly:typeof s.encodeValuesOnly=="boolean"?s.encodeValuesOnly:h.encodeValuesOnly,filter:n,format:l,formatter:o,serializeDate:typeof s.serializeDate=="function"?s.serializeDate:h.serializeDate,skipNulls:typeof s.skipNulls=="boolean"?s.skipNulls:h.skipNulls,sort:typeof s.sort=="function"?s.sort:null,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:h.strictNullHandling}};return jt=function(d,s){var c=d,l=i(s),o,n;typeof l.filter=="function"?(n=l.filter,c=n("",c)):A(l.filter)&&(n=l.filter,o=n);var e=[];if(typeof c!="object"||c===null)return"";var t=B[l.arrayFormat],r=t==="comma"&&l.commaRoundTrip;o||(o=Object.keys(c)),l.sort&&o.sort(l.sort);for(var a=w(),p=0;p<o.length;++p){var v=o[p],x=c[v];l.skipNulls&&x===null||g(e,u(x,v,t,r,l.allowEmptyArrays,l.strictNullHandling,l.skipNulls,l.encodeDotInKeys,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,a))}var y=e.join(l.delimiter),C=l.addQueryPrefix===!0?"?":"";return l.charsetSentinel&&(l.charset==="iso-8859-1"?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),y.length>0?C+y:""},jt}var Wt,en;function hi(){if(en)return Wt;en=1;var w=Xr(),S=Object.prototype.hasOwnProperty,L=Array.isArray,q={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:w.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},B=function(_){return _.replace(/&#(\d+);/g,function(u,i){return String.fromCharCode(parseInt(i,10))})},A=function(_,u,i){if(_&&typeof _=="string"&&u.comma&&_.indexOf(",")>-1)return _.split(",");if(u.throwOnLimitExceeded&&i>=u.arrayLimit)throw new RangeError("Array limit exceeded. Only "+u.arrayLimit+" element"+(u.arrayLimit===1?"":"s")+" allowed in an array.");return _},W="utf8=%26%2310003%3B",g="utf8=%E2%9C%93",m=function(u,i){var d={__proto__:null},s=i.ignoreQueryPrefix?u.replace(/^\?/,""):u;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=i.parameterLimit===1/0?void 0:i.parameterLimit,l=s.split(i.delimiter,i.throwOnLimitExceeded?c+1:c);if(i.throwOnLimitExceeded&&l.length>c)throw new RangeError("Parameter limit exceeded. Only "+c+" parameter"+(c===1?"":"s")+" allowed.");var o=-1,n,e=i.charset;if(i.charsetSentinel)for(n=0;n<l.length;++n)l[n].indexOf("utf8=")===0&&(l[n]===g?e="utf-8":l[n]===W&&(e="iso-8859-1"),o=n,n=l.length);for(n=0;n<l.length;++n)if(n!==o){var t=l[n],r=t.indexOf("]="),a=r===-1?t.indexOf("="):r+1,p,v;a===-1?(p=i.decoder(t,q.decoder,e,"key"),v=i.strictNullHandling?null:""):(p=i.decoder(t.slice(0,a),q.decoder,e,"key"),v=w.maybeMap(A(t.slice(a+1),i,L(d[p])?d[p].length:0),function(y){return i.decoder(y,q.decoder,e,"value")})),v&&i.interpretNumericEntities&&e==="iso-8859-1"&&(v=B(String(v))),t.indexOf("[]=")>-1&&(v=L(v)?[v]:v);var x=S.call(d,p);x&&i.duplicates==="combine"?d[p]=w.combine(d[p],v):(!x||i.duplicates==="last")&&(d[p]=v)}return d},f=function(_,u,i,d){var s=0;if(_.length>0&&_[_.length-1]==="[]"){var c=_.slice(0,-1).join("");s=Array.isArray(u)&&u[c]?u[c].length:0}for(var l=d?u:A(u,i,s),o=_.length-1;o>=0;--o){var n,e=_[o];if(e==="[]"&&i.parseArrays)n=i.allowEmptyArrays&&(l===""||i.strictNullHandling&&l===null)?[]:w.combine([],l);else{n=i.plainObjects?{__proto__:null}:{};var t=e.charAt(0)==="["&&e.charAt(e.length-1)==="]"?e.slice(1,-1):e,r=i.decodeDotInKeys?t.replace(/%2E/g,"."):t,a=parseInt(r,10);!i.parseArrays&&r===""?n={0:l}:!isNaN(a)&&e!==r&&String(a)===r&&a>=0&&i.parseArrays&&a<=i.arrayLimit?(n=[],n[a]=l):r!=="__proto__"&&(n[r]=l)}l=n}return l},h=function(u,i,d,s){if(u){var c=d.allowDots?u.replace(/\.([^.[]+)/g,"[$1]"):u,l=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,n=d.depth>0&&l.exec(c),e=n?c.slice(0,n.index):c,t=[];if(e){if(!d.plainObjects&&S.call(Object.prototype,e)&&!d.allowPrototypes)return;t.push(e)}for(var r=0;d.depth>0&&(n=o.exec(c))!==null&&r<d.depth;){if(r+=1,!d.plainObjects&&S.call(Object.prototype,n[1].slice(1,-1))&&!d.allowPrototypes)return;t.push(n[1])}if(n){if(d.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+d.depth+" and strictDepth is true");t.push("["+c.slice(n.index)+"]")}return f(t,i,d,s)}},b=function(u){if(!u)return q;if(typeof u.allowEmptyArrays<"u"&&typeof u.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof u.decodeDotInKeys<"u"&&typeof u.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(u.decoder!==null&&typeof u.decoder<"u"&&typeof u.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof u.charset<"u"&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof u.throwOnLimitExceeded<"u"&&typeof u.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var i=typeof u.charset>"u"?q.charset:u.charset,d=typeof u.duplicates>"u"?q.duplicates:u.duplicates;if(d!=="combine"&&d!=="first"&&d!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof u.allowDots>"u"?u.decodeDotInKeys===!0?!0:q.allowDots:!!u.allowDots;return{allowDots:s,allowEmptyArrays:typeof u.allowEmptyArrays=="boolean"?!!u.allowEmptyArrays:q.allowEmptyArrays,allowPrototypes:typeof u.allowPrototypes=="boolean"?u.allowPrototypes:q.allowPrototypes,allowSparse:typeof u.allowSparse=="boolean"?u.allowSparse:q.allowSparse,arrayLimit:typeof u.arrayLimit=="number"?u.arrayLimit:q.arrayLimit,charset:i,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:q.charsetSentinel,comma:typeof u.comma=="boolean"?u.comma:q.comma,decodeDotInKeys:typeof u.decodeDotInKeys=="boolean"?u.decodeDotInKeys:q.decodeDotInKeys,decoder:typeof u.decoder=="function"?u.decoder:q.decoder,delimiter:typeof u.delimiter=="string"||w.isRegExp(u.delimiter)?u.delimiter:q.delimiter,depth:typeof u.depth=="number"||u.depth===!1?+u.depth:q.depth,duplicates:d,ignoreQueryPrefix:u.ignoreQueryPrefix===!0,interpretNumericEntities:typeof u.interpretNumericEntities=="boolean"?u.interpretNumericEntities:q.interpretNumericEntities,parameterLimit:typeof u.parameterLimit=="number"?u.parameterLimit:q.parameterLimit,parseArrays:u.parseArrays!==!1,plainObjects:typeof u.plainObjects=="boolean"?u.plainObjects:q.plainObjects,strictDepth:typeof u.strictDepth=="boolean"?!!u.strictDepth:q.strictDepth,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:q.strictNullHandling,throwOnLimitExceeded:typeof u.throwOnLimitExceeded=="boolean"?u.throwOnLimitExceeded:!1}};return Wt=function(_,u){var i=b(u);if(_===""||_===null||typeof _>"u")return i.plainObjects?{__proto__:null}:{};for(var d=typeof _=="string"?m(_,i):_,s=i.plainObjects?{__proto__:null}:{},c=Object.keys(d),l=0;l<c.length;++l){var o=c[l],n=h(o,d[o],i,typeof _=="string");s=w.merge(s,n,i)}return i.allowSparse===!0?s:w.compact(s)},Wt}var Gt,tn;function pi(){if(tn)return Gt;tn=1;var w=fi(),S=hi(),L=Bt();return Gt={formats:L,parse:S,stringify:w},Gt}var rn;function di(){if(rn)return Pe;rn=1;var w=$n();function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var L=/^([a-z0-9.+-]+:)/i,q=/:[0-9]*$/,B=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,A=["<",">",'"',"`"," ","\r",`
`,"	"],W=["{","}","|","\\","^","`"].concat(A),g=["'"].concat(W),m=["%","/","?",";","#"].concat(g),f=["/","?","#"],h=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},i={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},s=pi();function c(e,t,r){if(e&&typeof e=="object"&&e instanceof S)return e;var a=new S;return a.parse(e,t,r),a}S.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),p=a!==-1&&a<e.indexOf("#")?"?":"#",v=e.split(p),x=/\\/g;v[0]=v[0].replace(x,"/"),e=v.join(p);var y=e;if(y=y.trim(),!r&&e.split("#").length===1){var C=B.exec(y);if(C)return this.path=y,this.href=y,this.pathname=C[1],C[2]?(this.search=C[2],t?this.query=s.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var U=L.exec(y);if(U){U=U[0];var K=U.toLowerCase();this.protocol=K,y=y.substr(U.length)}if(r||U||y.match(/^\/\/[^@/]+@[^@/]+/)){var Q=y.substr(0,2)==="//";Q&&!(U&&i[U])&&(y=y.substr(2),this.slashes=!0)}if(!i[U]&&(Q||U&&!d[U])){for(var M=-1,k=0;k<f.length;k++){var T=y.indexOf(f[k]);T!==-1&&(M===-1||T<M)&&(M=T)}var $,I;M===-1?I=y.lastIndexOf("@"):I=y.lastIndexOf("@",M),I!==-1&&($=y.slice(0,I),y=y.slice(I+1),this.auth=decodeURIComponent($)),M=-1;for(var k=0;k<m.length;k++){var T=y.indexOf(m[k]);T!==-1&&(M===-1||T<M)&&(M=T)}M===-1&&(M=y.length),this.host=y.slice(0,M),y=y.slice(M),this.parseHost(),this.hostname=this.hostname||"";var z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!z)for(var N=this.hostname.split(/\./),k=0,j=N.length;k<j;k++){var X=N[k];if(X&&!X.match(b)){for(var V="",Z=0,oe=X.length;Z<oe;Z++)X.charCodeAt(Z)>127?V+="x":V+=X[Z];if(!V.match(b)){var ee=N.slice(0,k),G=N.slice(k+1),H=X.match(_);H&&(ee.push(H[1]),G.unshift(H[2])),G.length&&(y="/"+G.join(".")+y),this.hostname=ee.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),z||(this.hostname=w.toASCII(this.hostname));var J=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+J,this.href+=this.host,z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),y[0]!=="/"&&(y="/"+y))}if(!u[K])for(var k=0,j=g.length;k<j;k++){var ne=g[k];if(y.indexOf(ne)!==-1){var ae=encodeURIComponent(ne);ae===ne&&(ae=escape(ne)),y=y.split(ne).join(ae)}}var le=y.indexOf("#");le!==-1&&(this.hash=y.substr(le),y=y.slice(0,le));var P=y.indexOf("?");if(P!==-1?(this.search=y.substr(P),this.query=y.substr(P+1),t&&(this.query=s.parse(this.query)),y=y.slice(0,P)):t&&(this.search="",this.query={}),y&&(this.pathname=y),d[K]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",R=this.search||"";this.path=J+R}return this.href=this.format(),this};function l(e){return typeof e=="string"&&(e=c(e)),e instanceof S?e.format():S.prototype.format.call(e)}S.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",p=!1,v="";this.host?p=e+this.host:this.hostname&&(p=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(p+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(v=s.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var x=this.search||v&&"?"+v||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||d[t])&&p!==!1?(p="//"+(p||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):p||(p=""),a&&a.charAt(0)!=="#"&&(a="#"+a),x&&x.charAt(0)!=="?"&&(x="?"+x),r=r.replace(/[?#]/g,function(y){return encodeURIComponent(y)}),x=x.replace("#","%23"),t+p+r+x+a};function o(e,t){return c(e,!1,!0).resolve(t)}S.prototype.resolve=function(e){return this.resolveObject(c(e,!1,!0)).format()};function n(e,t){return e?c(e,!1,!0).resolveObject(t):t}return S.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new S;t.parse(e,!1,!0),e=t}for(var r=new S,a=Object.keys(this),p=0;p<a.length;p++){var v=a[p];r[v]=this[v]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var x=Object.keys(e),y=0;y<x.length;y++){var C=x[y];C!=="protocol"&&(r[C]=e[C])}return d[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!d[e.protocol]){for(var U=Object.keys(e),K=0;K<U.length;K++){var Q=U[K];r[Q]=e[Q]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!i[e.protocol]){for(var j=(e.pathname||"").split("/");j.length&&!(e.host=j.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),j[0]!==""&&j.unshift(""),j.length<2&&j.unshift(""),r.pathname=j.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var M=r.pathname||"",k=r.search||"";r.path=M+k}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var T=r.pathname&&r.pathname.charAt(0)==="/",$=e.host||e.pathname&&e.pathname.charAt(0)==="/",I=$||T||r.host&&e.pathname,z=I,N=r.pathname&&r.pathname.split("/")||[],j=e.pathname&&e.pathname.split("/")||[],X=r.protocol&&!d[r.protocol];if(X&&(r.hostname="",r.port=null,r.host&&(N[0]===""?N[0]=r.host:N.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(j[0]===""?j[0]=e.host:j.unshift(e.host)),e.host=null),I=I&&(j[0]===""||N[0]==="")),$)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,N=j;else if(j.length)N||(N=[]),N.pop(),N=N.concat(j),r.search=e.search,r.query=e.query;else if(e.search!=null){if(X){r.host=N.shift(),r.hostname=r.host;var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.hostname=V.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!N.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var Z=N.slice(-1)[0],oe=(r.host||e.host||N.length>1)&&(Z==="."||Z==="..")||Z==="",ee=0,G=N.length;G>=0;G--)Z=N[G],Z==="."?N.splice(G,1):Z===".."?(N.splice(G,1),ee++):ee&&(N.splice(G,1),ee--);if(!I&&!z)for(;ee--;ee)N.unshift("..");I&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),oe&&N.join("/").substr(-1)!=="/"&&N.push("");var H=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(X){r.hostname=H?"":N.length?N.shift():"",r.host=r.hostname;var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.hostname=V.shift(),r.host=r.hostname)}return I=I||r.host&&N.length,I&&!H&&N.unshift(""),N.length>0?r.pathname=N.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},S.prototype.parseHost=function(){var e=this.host,t=q.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Pe.parse=c,Pe.resolve=o,Pe.resolveObject=n,Pe.format=l,Pe.Url=S,Pe}const yi=new Proxy({},{get(w,S){throw new Error(`Module "zlib" has been externalized for browser compatibility. Cannot access "zlib.${S}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),vi=me(Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"})));(function(w,S){var L={};(function(q,B){w.exports=B()})(Re,()=>(()=>{var q={343:(g,m,f)=>{f.r(m),f.d(m,{Billing:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}listBalances(u){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/balances`)})}getBalance(u,i){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/balances/${i}`)})}}},986:(g,m,f)=>{f.r(m),f.d(m,{DefaultOptions:()=>h});const h={apiUrl:"api.deepgram.com",requireSSL:!0}},344:(g,m,f)=>{var h;f.r(m),f.d(m,{ConnectionState:()=>h}),function(b){b[b.CONNECTING=0]="CONNECTING",b[b.OPEN=1]="OPEN",b[b.CLOSING=2]="CLOSING",b[b.CLOSED=3]="CLOSED"}(h||(h={}))},298:(g,m,f)=>{f.r(m),f.d(m,{secondsToTimestamp:()=>h.k,validateOptions:()=>b});var h=f(489);function b(_,u){if(!_||_.trim().length===0)throw new Error("DG: API key is required");if(!u||u.trim().length===0)throw new Error("DG: API url should be a valid url or not provided")}},489:(g,m,f)=>{function h(b){return new Date(1e3*b).toISOString().substr(11,12)}f.d(m,{k:()=>h})},98:function(g,m,f){var h=this&&this.__assign||function(){return h=Object.assign||function(s){for(var c,l=1,o=arguments.length;l<o;l++)for(var n in c=arguments[l])Object.prototype.hasOwnProperty.call(c,n)&&(s[n]=c[n]);return s},h.apply(this,arguments)},b=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(m,"__esModule",{value:!0}),m._request=void 0;var _=f(781),u=b(f(687)),i=b(f(685)),d=f(408);m._request=function(s,c,l,o,n,e,t){var r=function(a,p,v,x,y,C,U){var K={};!C||C instanceof _.Readable||(K["Content-Length"]=Buffer.byteLength(C));var Q={host:p,protocol:v?"https:":"http:",path:x,method:y,headers:h({"User-Agent":(0,d.userAgent)(),"Content-Type":"application/json",Authorization:"token ".concat(a)},K)},M=Q.headers;return U&&U.headers&&(M=h(h({},M),U.headers)),h(h(h({},Q),U),{headers:M})}(c,l,o,n,s,e,t);return new Promise(function(a,p){try{var v=(o?u.default:i.default).request(r,function(x){var y="";x.on("data",function(C){y+=C}),x.on("end",function(){var C;try{C=JSON.parse(y)}catch{C={error:y}}x.statusCode&&x.statusCode>=400&&(C.error,p("DG: ".concat(JSON.stringify(C)))),C.error&&p("DG: ".concat(y)),a(C)}),x.on("error",function(C){p("DG: ".concat(C))})});v.on("error",function(x){p("DG: ".concat(x))}),e?e instanceof _.Readable?(e.pipe(v),e.on("finish",function(){v.end()})):(v.write(e),v.end()):v.end()}catch(x){p("DG: ".concat(x))}})}},359:(g,m,f)=>{f.r(m),f.d(m,{Invitation:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}list(u){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/invites`)})}send(u,i){return h(this,void 0,void 0,function*(){return this._request("POST",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/invites`,JSON.stringify({email:i.email,scope:i.scope}))})}leave(u){return h(this,void 0,void 0,function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/leave`)})}delete(u,i){return h(this,void 0,void 0,function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/invites/${i}`)})}}},292:(g,m,f)=>{f.r(m),f.d(m,{Keys:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}list(u){return h(this,void 0,void 0,function*(){return{api_keys:(yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/keys`)).api_keys.map(i=>Object.assign(Object.assign({},i),i.api_key))}})}get(u,i){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/keys/${i}`)})}create(u,i,d,s){return h(this,void 0,void 0,function*(){if(s&&s.expirationDate!==void 0&&s.timeToLive!==void 0)throw new Error("Please provide expirationDate or timeToLive or neither. Providing both is not allowed.");return this._request("POST",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/keys`,JSON.stringify({comment:i,scopes:d,expiration_date:s&&s.expirationDate?s.expirationDate:void 0,time_to_live_in_seconds:s&&s.timeToLive?s.timeToLive:void 0}))})}delete(u,i){return h(this,void 0,void 0,function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/keys/${i}`)})}}},949:(g,m,f)=>{f.r(m),f.d(m,{Members:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}listMembers(u){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/members`)})}removeMember(u,i){return h(this,void 0,void 0,function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/members/${i}`)})}}},319:(g,m,f)=>{f.r(m),f.d(m,{Projects:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}list(){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,this.apiPath)})}get(u){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}`)})}update(u,i){return h(this,void 0,void 0,function*(){return this._request("PATCH",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u.project_id}`,JSON.stringify(i))})}delete(u){return h(this,void 0,void 0,function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}`)})}}},647:(g,m,f)=>{f.r(m),f.d(m,{Scopes:()=>b});var h=function(_,u,i,d){return new(i||(i=Promise))(function(s,c){function l(e){try{n(d.next(e))}catch(t){c(t)}}function o(e){try{n(d.throw(e))}catch(t){c(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(r){r(t)})).then(l,o)}n((d=d.apply(_,[])).next())})};class b{constructor(u,i,d,s){this._credentials=u,this._apiUrl=i,this._requireSSL=d,this._request=s,this.apiPath="/v1/projects"}get(u,i){return h(this,void 0,void 0,function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/members/${i}/scopes`)})}update(u,i,d){return h(this,void 0,void 0,function*(){return this._request("PUT",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${u}/members/${i}/scopes`,JSON.stringify({scope:d}))})}}},487:function(g,m,f){var h=this&&this.__awaiter||function(d,s,c,l){return new(c||(c=Promise))(function(o,n){function e(a){try{r(l.next(a))}catch(p){n(p)}}function t(a){try{r(l.throw(a))}catch(p){n(p)}}function r(a){var p;a.done?o(a.value):(p=a.value,p instanceof c?p:new c(function(v){v(p)})).then(e,t)}r((l=l.apply(d,s||[])).next())})},b=this&&this.__generator||function(d,s){var c,l,o,n,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function t(r){return function(a){return function(p){if(c)throw new TypeError("Generator is already executing.");for(;e;)try{if(c=1,l&&(o=2&p[0]?l.return:p[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,p[1])).done)return o;switch(l=0,o&&(p=[2&p[0],o.value]),p[0]){case 0:case 1:o=p;break;case 4:return e.label++,{value:p[1],done:!1};case 5:e.label++,l=p[1],p=[0];continue;case 7:p=e.ops.pop(),e.trys.pop();continue;default:if(!((o=(o=e.trys).length>0&&o[o.length-1])||p[0]!==6&&p[0]!==2)){e=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){e.label=p[1];break}if(p[0]===6&&e.label<o[1]){e.label=o[1],o=p;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(p);break}o[2]&&e.ops.pop(),e.trys.pop();continue}p=s.call(d,e)}catch(v){p=[6,v],l=0}finally{c=o=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(m,"__esModule",{value:!0}),m.Transcriber=void 0;var _=f(379),u=f(825),i=function(){function d(s,c,l){this._credentials=s,this._apiUrl=c,this._requireSSL=l}return d.prototype.preRecorded=function(s,c){return h(this,void 0,void 0,function(){return b(this,function(l){switch(l.label){case 0:return[4,(0,u.preRecordedTranscription)(this._credentials,this._apiUrl||"",this._requireSSL,s,c)];case 1:return[2,l.sent()]}})})},d.prototype.live=function(s){return new _.LiveTranscription(this._credentials,this._apiUrl||"",this._requireSSL,s)},d}();m.Transcriber=i},379:function(g,m,f){var h,b=this&&this.__extends||(h=function(o,n){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},h(o,n)},function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=o}h(o,n),o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),_=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(m,"__esModule",{value:!0}),m.LiveTranscription=void 0;var u=_(f(361)),i=_(f(477)),d=_(f(777)),s=f(344),c=f(408),l=function(o){function n(e,t,r,a){var p=o.call(this,void 0)||this,v=r?"wss":"ws";return p._socket=new d.default("".concat(v,"://").concat(t,"/v1/listen?").concat(i.default.stringify(a)),{headers:{Authorization:"token ".concat(e),"User-Agent":(0,c.userAgent)()}}),p._bindSocketEvents(),p}return b(n,o),n.prototype._bindSocketEvents=function(){var e=this;this._socket.onopen=function(){e.emit("open",e)},this._socket.onclose=function(t){var r=t.target;if(r._req){var a=r._req.res.rawHeaders.indexOf("dg-error");t.reason=r._req.res.rawHeaders[a+1]}e.emit("close",t)},this._socket.onerror=function(t){e.emit("error",t)},this._socket.onmessage=function(t){e.emit("transcriptReceived",t.data)}},n.prototype.configure=function(e){this._socket.send(JSON.stringify({type:"Configure",processors:e}))},n.prototype.getReadyState=function(){return this._socket.readyState},n.prototype.send=function(e){this._socket.readyState===s.ConnectionState.OPEN?this._socket.send(e):this.emit("error","Could not send. Connection not open.")},n.prototype.finish=function(){this._socket.send(new Uint8Array(0))},n}(u.default);m.LiveTranscription=l},825:function(g,m,f){var h=this&&this.__assign||function(){return h=Object.assign||function(l){for(var o,n=1,e=arguments.length;n<e;n++)for(var t in o=arguments[n])Object.prototype.hasOwnProperty.call(o,t)&&(l[t]=o[t]);return l},h.apply(this,arguments)},b=this&&this.__awaiter||function(l,o,n,e){return new(n||(n=Promise))(function(t,r){function a(x){try{v(e.next(x))}catch(y){r(y)}}function p(x){try{v(e.throw(x))}catch(y){r(y)}}function v(x){var y;x.done?t(x.value):(y=x.value,y instanceof n?y:new n(function(C){C(y)})).then(a,p)}v((e=e.apply(l,o||[])).next())})},_=this&&this.__generator||function(l,o){var n,e,t,r,a={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return r={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function p(v){return function(x){return function(y){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,e&&(t=2&y[0]?e.return:y[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,y[1])).done)return t;switch(e=0,t&&(y=[2&y[0],t.value]),y[0]){case 0:case 1:t=y;break;case 4:return a.label++,{value:y[1],done:!1};case 5:a.label++,e=y[1],y=[0];continue;case 7:y=a.ops.pop(),a.trys.pop();continue;default:if(!((t=(t=a.trys).length>0&&t[t.length-1])||y[0]!==6&&y[0]!==2)){a=0;continue}if(y[0]===3&&(!t||y[1]>t[0]&&y[1]<t[3])){a.label=y[1];break}if(y[0]===6&&a.label<t[1]){a.label=t[1],t=y;break}if(t&&a.label<t[2]){a.label=t[2],a.ops.push(y);break}t[2]&&a.ops.pop(),a.trys.pop();continue}y=o.call(l,a)}catch(C){y=[6,C],e=0}finally{n=t=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([v,x])}}},u=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(m,"__esModule",{value:!0}),m.preRecordedTranscription=void 0;var i=u(f(477)),d=f(970),s=f(98);function c(l){return!!l.url}m.preRecordedTranscription=function(l,o,n,e,t){return b(void 0,void 0,void 0,function(){var r,a,p,v;return _(this,function(x){switch(x.label){case 0:if(r=h({},t),!c(e)&&(e.mimetype===void 0||e.mimetype.length===0))throw new Error("DG: Mimetype must be provided if the source is a Buffer or a Readable");if(c(e))a=JSON.stringify(e);else if(e.buffer)a=e.buffer;else{if(!e.stream)throw new Error("Unknown TranscriptionSource type");a=e.stream}return p={},c(e)||(p.headers={"Content-Type":e.mimetype}),[4,(0,s._request)("POST",l,o,n,"/v1/listen?".concat(i.default.stringify(r)),a,p)];case 1:return v=x.sent(),[2,Object.assign(new d.PrerecordedTranscriptionResponse,v)]}})})}},970:(g,m,f)=>{f.r(m),f.d(m,{PrerecordedTranscriptionResponse:()=>b});var h=f(489);class b{toWebVTT(){var u,i,d,s;if(!this.results||!this.results.utterances)throw new Error("This function requires a transcript that was generated with the utterances feature.");let c=`WEBVTT

`;c+=`NOTE
Transcription provided by Deepgram
Request Id: ${(u=this.metadata)===null||u===void 0?void 0:u.request_id}
Created: ${(i=this.metadata)===null||i===void 0?void 0:i.created}
Duration: ${(d=this.metadata)===null||d===void 0?void 0:d.duration}
Channels: ${(s=this.metadata)===null||s===void 0?void 0:s.channels}

`;for(let l=0;l<this.results.utterances.length;l++){const o=this.results.utterances[l];c+=`${l+1}
${(0,h.k)(o.start)} --> ${(0,h.k)(o.end)}
- ${o.transcript}

`}return c}toSRT(){if(!this.results||!this.results.utterances)throw new Error("This function requires a transcript that was generated with the utterances feature.");let u="";for(let i=0;i<this.results.utterances.length;i++){const d=this.results.utterances[i];u+=`${i+1}
${(0,h.k)(d.start).replace(".",",")} --> ${(0,h.k)(d.end).replace(".",",")}
${d.transcript}

`}return u}}},321:(g,m,f)=>{f.r(m),f.d(m,{Usage:()=>u});var h=f(477),b=f.n(h),_=function(i,d,s,c){return new(s||(s=Promise))(function(l,o){function n(r){try{t(c.next(r))}catch(a){o(a)}}function e(r){try{t(c.throw(r))}catch(a){o(a)}}function t(r){var a;r.done?l(r.value):(a=r.value,a instanceof s?a:new s(function(p){p(a)})).then(n,e)}t((c=c.apply(i,[])).next())})};class u{constructor(d,s,c,l){this._credentials=d,this._apiUrl=s,this._requireSSL=c,this._request=l,this.apiPath="/v1/projects"}listRequests(d,s){return _(this,void 0,void 0,function*(){const c=Object.assign({},s);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${d}/requests?${b().stringify(c)}`)})}getRequest(d,s){return _(this,void 0,void 0,function*(){return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${d}/requests/${s}`)})}getUsage(d,s){return _(this,void 0,void 0,function*(){const c=Object.assign({},s);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${d}/usage?${b().stringify(c)}`)})}getFields(d,s){return _(this,void 0,void 0,function*(){const c=Object.assign({},s);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${d}/usage/fields?${b().stringify(c)}`)})}}},408:(g,m,f)=>{function h(){let b="@deepgram/sdk/UNKNOWN node/UNKNOWN";try{b=`@deepgram/sdk/1.21.0 node/${process.version.replace("v","")}`}catch{console.warn("Could not load package details")}return b}f.r(m),f.d(m,{userAgent:()=>h})},376:g=>{g.exports={mask:(m,f,h,b,_)=>{for(var u=0;u<_;u++)h[b+u]=m[u]^f[3&u]},unmask:(m,f)=>{const h=m.length;for(var b=0;b<h;b++)m[b]^=f[3&b]}}},891:(g,m,f)=>{try{g.exports=f(516)(__dirname)}catch{g.exports=f(376)}},516:(g,m,f)=>{var h=f(147),b=f(17),_=f(37),u=pn,i=process.config&&process.config.variables||{},d=!!L.PREBUILDS_ONLY,s=process.versions.modules,c=process.versions&&process.versions.electron||L.ELECTRON_RUN_AS_NODE||typeof window<"u"&&window.process&&window.process.type==="renderer"?"electron":"node",l=_.arch(),o=_.platform(),n=L.LIBC||(function(M){return M==="linux"&&h.existsSync("/etc/alpine-release")}(o)?"musl":"glibc"),e=L.ARM_VERSION||(l==="arm64"?"8":i.arm_version)||"",t=(process.versions.uv||"").split(".")[0];function r(M){return u(r.path(M))}function a(M){try{return h.readdirSync(M)}catch{return[]}}function p(M,k){var T=a(M).filter(k);return T[0]&&b.join(M,T[0])}function v(M){return/\.node$/.test(M)}function x(M){var k=M.split("-");if(k.length===2){var T=k[0],$=k[1].split("+");if(T&&$.length&&$.every(Boolean))return{name:M,platform:T,architectures:$}}}function y(M,k){return function(T){return T!=null&&T.platform===M&&T.architectures.includes(k)}}function C(M,k){return M.architectures.length-k.architectures.length}function U(M){var k=M.split("."),T={file:M,specificity:0};if(k.pop()==="node"){for(var $=0;$<k.length;$++){var I=k[$];if(I==="node"||I==="electron"||I==="node-webkit")T.runtime=I;else if(I==="napi")T.napi=!0;else if(I.slice(0,3)==="abi")T.abi=I.slice(3);else if(I.slice(0,2)==="uv")T.uv=I.slice(2);else if(I.slice(0,4)==="armv")T.armv=I.slice(4);else{if(I!=="glibc"&&I!=="musl")continue;T.libc=I}T.specificity++}return T}}function K(M,k){return function(T){return!(T==null||T.runtime!==M&&!function($){return $.runtime==="node"&&$.napi}(T)||T.abi!==k&&!T.napi||T.uv&&T.uv!==t||T.armv&&T.armv!==e||T.libc&&T.libc!==n)}}function Q(M){return function(k,T){return k.runtime!==T.runtime?k.runtime===M?-1:1:k.abi!==T.abi?k.abi?-1:1:k.specificity!==T.specificity?k.specificity>T.specificity?-1:1:0}}g.exports=r,r.path=function(M){M=b.resolve(M||".");try{var k=u(b.join(M,"package.json")).name.toUpperCase().replace(/-/g,"_");L[k+"_PREBUILD"]&&(M=L[k+"_PREBUILD"])}catch{}if(!d){var T=p(b.join(M,"build/Release"),v);if(T)return T;var $=p(b.join(M,"build/Debug"),v);if($)return $}var I=j(M);if(I)return I;var z=j(b.dirname(process.execPath));if(z)return z;var N=["platform="+o,"arch="+l,"runtime="+c,"abi="+s,"uv="+t,e?"armv="+e:"","libc="+n,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+N+`
    loaded from: `+M+`
`);function j(X){var V=a(b.join(X,"prebuilds")).map(x).filter(y(o,l)).sort(C)[0];if(V){var Z=b.join(X,"prebuilds",V.name),oe=a(Z).map(U).filter(K(c,s)).sort(Q(c))[0];return oe?b.join(Z,oe.file):void 0}}},r.parseTags=U,r.matchTags=K,r.compareTags=Q,r.parseTuple=x,r.matchTuple=y,r.compareTuples=C},137:g=>{g.exports=function(m){const f=m.length;let h=0;for(;h<f;)if(!(128&m[h]))h++;else if((224&m[h])==192){if(h+1===f||(192&m[h+1])!=128||(254&m[h])==192)return!1;h+=2}else if((240&m[h])==224){if(h+2>=f||(192&m[h+1])!=128||(192&m[h+2])!=128||m[h]===224&&(224&m[h+1])==128||m[h]===237&&(224&m[h+1])==160)return!1;h+=3}else{if((248&m[h])!=240||h+3>=f||(192&m[h+1])!=128||(192&m[h+2])!=128||(192&m[h+3])!=128||m[h]===240&&(240&m[h+1])==128||m[h]===244&&m[h+1]>143||m[h]>244)return!1;h+=4}return!0}},311:(g,m,f)=>{try{g.exports=f(516)(__dirname)}catch{g.exports=f(137)}},777:(g,m,f)=>{const h=f(762);h.createWebSocketStream=f(30),h.Server=f(284),h.Receiver=f(957),h.Sender=f(330),g.exports=h},977:(g,m,f)=>{const{EMPTY_BUFFER:h}=f(872);function b(s,c){if(s.length===0)return h;if(s.length===1)return s[0];const l=Buffer.allocUnsafe(c);let o=0;for(let n=0;n<s.length;n++){const e=s[n];l.set(e,o),o+=e.length}return o<c?l.slice(0,o):l}function _(s,c,l,o,n){for(let e=0;e<n;e++)l[o+e]=s[e]^c[3&e]}function u(s,c){const l=s.length;for(let o=0;o<l;o++)s[o]^=c[3&o]}function i(s){return s.byteLength===s.buffer.byteLength?s.buffer:s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}function d(s){if(d.readOnly=!0,Buffer.isBuffer(s))return s;let c;return s instanceof ArrayBuffer?c=Buffer.from(s):ArrayBuffer.isView(s)?c=Buffer.from(s.buffer,s.byteOffset,s.byteLength):(c=Buffer.from(s),d.readOnly=!1),c}try{const s=f(891),c=s.BufferUtil||s;g.exports={concat:b,mask(l,o,n,e,t){t<48?_(l,o,n,e,t):c.mask(l,o,n,e,t)},toArrayBuffer:i,toBuffer:d,unmask(l,o){l.length<32?u(l,o):c.unmask(l,o)}}}catch{g.exports={concat:b,mask:_,toArrayBuffer:i,toBuffer:d,unmask:u}}},872:g=>{g.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},62:g=>{class m{constructor(d,s){this.target=s,this.type=d}}class f extends m{constructor(d,s){super("message",s),this.data=d}}class h extends m{constructor(d,s,c){super("close",c),this.wasClean=c._closeFrameReceived&&c._closeFrameSent,this.reason=s,this.code=d}}class b extends m{constructor(d){super("open",d)}}class _ extends m{constructor(d,s){super("error",s),this.message=d.message,this.error=d}}const u={addEventListener(i,d,s){if(typeof d!="function")return;function c(t){d.call(this,new f(t,this))}function l(t,r){d.call(this,new h(t,r,this))}function o(t){d.call(this,new _(t,this))}function n(){d.call(this,new b(this))}const e=s&&s.once?"once":"on";i==="message"?(c._listener=d,this[e](i,c)):i==="close"?(l._listener=d,this[e](i,l)):i==="error"?(o._listener=d,this[e](i,o)):i==="open"?(n._listener=d,this[e](i,n)):this[e](i,d)},removeEventListener(i,d){const s=this.listeners(i);for(let c=0;c<s.length;c++)s[c]!==d&&s[c]._listener!==d||this.removeListener(i,s[c])}};g.exports=u},503:g=>{const m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function f(h,b,_){h[b]===void 0?h[b]=[_]:h[b].push(_)}g.exports={format:function(h){return Object.keys(h).map(b=>{let _=h[b];return Array.isArray(_)||(_=[_]),_.map(u=>[b].concat(Object.keys(u).map(i=>{let d=u[i];return Array.isArray(d)||(d=[d]),d.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(h){const b=Object.create(null);if(h===void 0||h==="")return b;let _,u,i=Object.create(null),d=!1,s=!1,c=!1,l=-1,o=-1,n=0;for(;n<h.length;n++){const t=h.charCodeAt(n);if(_===void 0)if(o===-1&&m[t]===1)l===-1&&(l=n);else if(t===32||t===9)o===-1&&l!==-1&&(o=n);else{if(t!==59&&t!==44)throw new SyntaxError(`Unexpected character at index ${n}`);{if(l===-1)throw new SyntaxError(`Unexpected character at index ${n}`);o===-1&&(o=n);const r=h.slice(l,o);t===44?(f(b,r,i),i=Object.create(null)):_=r,l=o=-1}}else if(u===void 0)if(o===-1&&m[t]===1)l===-1&&(l=n);else if(t===32||t===9)o===-1&&l!==-1&&(o=n);else if(t===59||t===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${n}`);o===-1&&(o=n),f(i,h.slice(l,o),!0),t===44&&(f(b,_,i),i=Object.create(null),_=void 0),l=o=-1}else{if(t!==61||l===-1||o!==-1)throw new SyntaxError(`Unexpected character at index ${n}`);u=h.slice(l,n),l=o=-1}else if(s){if(m[t]!==1)throw new SyntaxError(`Unexpected character at index ${n}`);l===-1?l=n:d||(d=!0),s=!1}else if(c)if(m[t]===1)l===-1&&(l=n);else if(t===34&&l!==-1)c=!1,o=n;else{if(t!==92)throw new SyntaxError(`Unexpected character at index ${n}`);s=!0}else if(t===34&&h.charCodeAt(n-1)===61)c=!0;else if(o===-1&&m[t]===1)l===-1&&(l=n);else if(l===-1||t!==32&&t!==9){if(t!==59&&t!==44)throw new SyntaxError(`Unexpected character at index ${n}`);{if(l===-1)throw new SyntaxError(`Unexpected character at index ${n}`);o===-1&&(o=n);let r=h.slice(l,o);d&&(r=r.replace(/\\/g,""),d=!1),f(i,u,r),t===44&&(f(b,_,i),i=Object.create(null),_=void 0),u=void 0,l=o=-1}}else o===-1&&(o=n)}if(l===-1||c)throw new SyntaxError("Unexpected end of input");o===-1&&(o=n);const e=h.slice(l,o);return _===void 0?f(b,e,i):(u===void 0?f(i,e,!0):f(i,u,d?e.replace(/\\/g,""):e),f(b,_,i)),b}}},305:g=>{const m=Symbol("kDone"),f=Symbol("kRun");g.exports=class{constructor(h){this[m]=()=>{this.pending--,this[f]()},this.concurrency=h||1/0,this.jobs=[],this.pending=0}add(h){this.jobs.push(h),this[f]()}[f](){if(this.pending!==this.concurrency&&this.jobs.length){const h=this.jobs.shift();this.pending++,h(this[m])}}}},196:(g,m,f)=>{const h=f(796),b=f(977),_=f(305),{kStatusCode:u,NOOP:i}=f(872),d=Buffer.from([0,0,255,255]),s=Symbol("permessage-deflate"),c=Symbol("total-length"),l=Symbol("callback"),o=Symbol("buffers"),n=Symbol("error");let e;function t(p){this[o].push(p),this[c]+=p.length}function r(p){this[c]+=p.length,this[s]._maxPayload<1||this[c]<=this[s]._maxPayload?this[o].push(p):(this[n]=new RangeError("Max payload size exceeded"),this[n].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[n][u]=1009,this.removeListener("data",r),this.reset())}function a(p){this[s]._inflate=null,p[u]=1007,this[l](p)}g.exports=class{constructor(p,v,x){if(this._maxPayload=0|x,this._options=p||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!v,this._deflate=null,this._inflate=null,this.params=null,!e){const y=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;e=new _(y)}}static get extensionName(){return"permessage-deflate"}offer(){const p={};return this._options.serverNoContextTakeover&&(p.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(p.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(p.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?p.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(p.client_max_window_bits=!0),p}accept(p){return p=this.normalizeParams(p),this.params=this._isServer?this.acceptAsServer(p):this.acceptAsClient(p),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const p=this._deflate[l];this._deflate.close(),this._deflate=null,p&&p(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(p){const v=this._options,x=p.find(y=>!(v.serverNoContextTakeover===!1&&y.server_no_context_takeover||y.server_max_window_bits&&(v.serverMaxWindowBits===!1||typeof v.serverMaxWindowBits=="number"&&v.serverMaxWindowBits>y.server_max_window_bits)||typeof v.clientMaxWindowBits=="number"&&!y.client_max_window_bits));if(!x)throw new Error("None of the extension offers can be accepted");return v.serverNoContextTakeover&&(x.server_no_context_takeover=!0),v.clientNoContextTakeover&&(x.client_no_context_takeover=!0),typeof v.serverMaxWindowBits=="number"&&(x.server_max_window_bits=v.serverMaxWindowBits),typeof v.clientMaxWindowBits=="number"?x.client_max_window_bits=v.clientMaxWindowBits:x.client_max_window_bits!==!0&&v.clientMaxWindowBits!==!1||delete x.client_max_window_bits,x}acceptAsClient(p){const v=p[0];if(this._options.clientNoContextTakeover===!1&&v.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(v.client_max_window_bits){if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&v.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else typeof this._options.clientMaxWindowBits=="number"&&(v.client_max_window_bits=this._options.clientMaxWindowBits);return v}normalizeParams(p){return p.forEach(v=>{Object.keys(v).forEach(x=>{let y=v[x];if(y.length>1)throw new Error(`Parameter "${x}" must have only a single value`);if(y=y[0],x==="client_max_window_bits"){if(y!==!0){const C=+y;if(!Number.isInteger(C)||C<8||C>15)throw new TypeError(`Invalid value for parameter "${x}": ${y}`);y=C}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${x}": ${y}`)}else if(x==="server_max_window_bits"){const C=+y;if(!Number.isInteger(C)||C<8||C>15)throw new TypeError(`Invalid value for parameter "${x}": ${y}`);y=C}else{if(x!=="client_no_context_takeover"&&x!=="server_no_context_takeover")throw new Error(`Unknown parameter "${x}"`);if(y!==!0)throw new TypeError(`Invalid value for parameter "${x}": ${y}`)}v[x]=y})}),p}decompress(p,v,x){e.add(y=>{this._decompress(p,v,(C,U)=>{y(),x(C,U)})})}compress(p,v,x){e.add(y=>{this._compress(p,v,(C,U)=>{y(),x(C,U)})})}_decompress(p,v,x){const y=this._isServer?"client":"server";if(!this._inflate){const C=`${y}_max_window_bits`,U=typeof this.params[C]!="number"?h.Z_DEFAULT_WINDOWBITS:this.params[C];this._inflate=h.createInflateRaw({...this._options.zlibInflateOptions,windowBits:U}),this._inflate[s]=this,this._inflate[c]=0,this._inflate[o]=[],this._inflate.on("error",a),this._inflate.on("data",r)}this._inflate[l]=x,this._inflate.write(p),v&&this._inflate.write(d),this._inflate.flush(()=>{const C=this._inflate[n];if(C)return this._inflate.close(),this._inflate=null,void x(C);const U=b.concat(this._inflate[o],this._inflate[c]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[c]=0,this._inflate[o]=[],v&&this.params[`${y}_no_context_takeover`]&&this._inflate.reset()),x(null,U)})}_compress(p,v,x){const y=this._isServer?"server":"client";if(!this._deflate){const C=`${y}_max_window_bits`,U=typeof this.params[C]!="number"?h.Z_DEFAULT_WINDOWBITS:this.params[C];this._deflate=h.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:U}),this._deflate[c]=0,this._deflate[o]=[],this._deflate.on("error",i),this._deflate.on("data",t)}this._deflate[l]=x,this._deflate.write(p),this._deflate.flush(h.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let C=b.concat(this._deflate[o],this._deflate[c]);v&&(C=C.slice(0,C.length-4)),this._deflate[l]=null,this._deflate[c]=0,this._deflate[o]=[],v&&this.params[`${y}_no_context_takeover`]&&this._deflate.reset(),x(null,C)})}}},957:(g,m,f)=>{const{Writable:h}=f(781),b=f(196),{BINARY_TYPES:_,EMPTY_BUFFER:u,kStatusCode:i,kWebSocket:d}=f(872),{concat:s,toArrayBuffer:c,unmask:l}=f(977),{isValidStatusCode:o,isValidUTF8:n}=f(746);function e(t,r,a,p,v){const x=new t(a?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(x,e),x.code=v,x[i]=p,x}g.exports=class extends h{constructor(t,r,a,p){super(),this._binaryType=t||_[0],this[d]=void 0,this._extensions=r||{},this._isServer=!!a,this._maxPayload=0|p,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(t,r,a){if(this._opcode===8&&this._state==0)return a();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(a)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const a=this._buffers[0];return this._buffers[0]=a.slice(t),a.slice(0,t)}const r=Buffer.allocUnsafe(t);do{const a=this._buffers[0],p=r.length-t;t>=a.length?r.set(this._buffers.shift(),p):(r.set(new Uint8Array(a.buffer,a.byteOffset,t),p),this._buffers[0]=a.slice(t)),t-=a.length}while(t>0);return r}startLoop(t){let r;this._loop=!0;do switch(this._state){case 0:r=this.getInfo();break;case 1:r=this.getPayloadLength16();break;case 2:r=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:r=this.getData(t);break;default:return void(this._loop=!1)}while(this._loop);t(r)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(48&t[0])return this._loop=!1,e(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const r=(64&t[0])==64;if(r&&!this._extensions[b.extensionName])return this._loop=!1,e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],this._opcode===0){if(r)return this._loop=!1,e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,e(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,e(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,e(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,e(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,e(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked)return this._loop=!1,e(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,e(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=1;else{if(this._payloadLength!==127)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),r=t.readUInt32BE(0);return r>Math.pow(2,21)-1?(this._loop=!1,e(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,e(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(t){let r=u;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);r=this.consume(this._payloadLength),this._masked&&l(r,this._mask)}return this._opcode>7?this.controlMessage(r):this._compressed?(this._state=5,void this.decompress(r,t)):(r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage())}decompress(t,r){this._extensions[b.extensionName].decompress(t,this._fin,(a,p)=>{if(a)return r(a);if(p.length){if(this._messageLength+=p.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(e(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(p)}const v=this.dataMessage();if(v)return r(v);this.startLoop(r)})}dataMessage(){if(this._fin){const t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let a;a=this._binaryType==="nodebuffer"?s(r,t):this._binaryType==="arraybuffer"?c(s(r,t)):r,this.emit("message",a)}else{const a=s(r,t);if(!n(a))return this._loop=!1,e(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",a.toString())}}this._state=0}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,""),this.end();else{if(t.length===1)return e(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const r=t.readUInt16BE(0);if(!o(r))return e(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const a=t.slice(2);if(!n(a))return e(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,a.toString()),this.end()}}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=0}}},330:(g,m,f)=>{f(808),f(404);const{randomFillSync:h}=f(113),b=f(196),{EMPTY_BUFFER:_}=f(872),{isValidStatusCode:u}=f(746),{mask:i,toBuffer:d}=f(977),s=Buffer.alloc(4);class c{constructor(o,n){this._extensions=n||{},this._socket=o,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(o,n){const e=n.mask&&n.readOnly;let t=n.mask?6:2,r=o.length;o.length>=65536?(t+=8,r=127):o.length>125&&(t+=2,r=126);const a=Buffer.allocUnsafe(e?o.length+t:t);return a[0]=n.fin?128|n.opcode:n.opcode,n.rsv1&&(a[0]|=64),a[1]=r,r===126?a.writeUInt16BE(o.length,2):r===127&&(a.writeUInt32BE(0,2),a.writeUInt32BE(o.length,6)),n.mask?(h(s,0,4),a[1]|=128,a[t-4]=s[0],a[t-3]=s[1],a[t-2]=s[2],a[t-1]=s[3],e?(i(o,s,a,t,o.length),[a]):(i(o,s,o,0,o.length),[a,o])):[a,o]}close(o,n,e,t){let r;if(o===void 0)r=_;else{if(typeof o!="number"||!u(o))throw new TypeError("First argument must be a valid error code number");if(n===void 0||n==="")r=Buffer.allocUnsafe(2),r.writeUInt16BE(o,0);else{const a=Buffer.byteLength(n);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");r=Buffer.allocUnsafe(2+a),r.writeUInt16BE(o,0),r.write(n,2)}}this._deflating?this.enqueue([this.doClose,r,e,t]):this.doClose(r,e,t)}doClose(o,n,e){this.sendFrame(c.frame(o,{fin:!0,rsv1:!1,opcode:8,mask:n,readOnly:!1}),e)}ping(o,n,e){const t=d(o);if(t.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,t,n,d.readOnly,e]):this.doPing(t,n,d.readOnly,e)}doPing(o,n,e,t){this.sendFrame(c.frame(o,{fin:!0,rsv1:!1,opcode:9,mask:n,readOnly:e}),t)}pong(o,n,e){const t=d(o);if(t.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,t,n,d.readOnly,e]):this.doPong(t,n,d.readOnly,e)}doPong(o,n,e,t){this.sendFrame(c.frame(o,{fin:!0,rsv1:!1,opcode:10,mask:n,readOnly:e}),t)}send(o,n,e){const t=d(o),r=this._extensions[b.extensionName];let a=n.binary?2:1,p=n.compress;if(this._firstFragment?(this._firstFragment=!1,p&&r&&(p=t.length>=r._threshold),this._compress=p):(p=!1,a=0),n.fin&&(this._firstFragment=!0),r){const v={fin:n.fin,rsv1:p,opcode:a,mask:n.mask,readOnly:d.readOnly};this._deflating?this.enqueue([this.dispatch,t,this._compress,v,e]):this.dispatch(t,this._compress,v,e)}else this.sendFrame(c.frame(t,{fin:n.fin,rsv1:!1,opcode:a,mask:n.mask,readOnly:d.readOnly}),e)}dispatch(o,n,e,t){if(!n)return void this.sendFrame(c.frame(o,e),t);const r=this._extensions[b.extensionName];this._bufferedBytes+=o.length,this._deflating=!0,r.compress(o,e.fin,(a,p)=>{if(this._socket.destroyed){const v=new Error("The socket was closed while data was being compressed");typeof t=="function"&&t(v);for(let x=0;x<this._queue.length;x++){const y=this._queue[x][4];typeof y=="function"&&y(v)}}else this._bufferedBytes-=o.length,this._deflating=!1,e.readOnly=!1,this.sendFrame(c.frame(p,e),t),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const o=this._queue.shift();this._bufferedBytes-=o[1].length,Reflect.apply(o[0],this,o.slice(1))}}enqueue(o){this._bufferedBytes+=o[1].length,this._queue.push(o)}sendFrame(o,n){o.length===2?(this._socket.cork(),this._socket.write(o[0]),this._socket.write(o[1],n),this._socket.uncork()):this._socket.write(o[0],n)}}g.exports=c},30:(g,m,f)=>{const{Duplex:h}=f(781);function b(i){i.emit("close")}function _(){!this.destroyed&&this._writableState.finished&&this.destroy()}function u(i){this.removeListener("error",u),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}g.exports=function(i,d){let s=!0,c=!0;function l(){s&&i._socket.resume()}i.readyState===i.CONNECTING?i.once("open",function(){i._receiver.removeAllListeners("drain"),i._receiver.on("drain",l)}):(i._receiver.removeAllListeners("drain"),i._receiver.on("drain",l));const o=new h({...d,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(n){o.push(n)||(s=!1,i._socket.pause())}),i.once("error",function(n){o.destroyed||(c=!1,o.destroy(n))}),i.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(n,e){if(i.readyState===i.CLOSED)return e(n),void process.nextTick(b,o);let t=!1;i.once("error",function(r){t=!0,e(r)}),i.once("close",function(){t||e(n),process.nextTick(b,o)}),c&&i.terminate()},o._final=function(n){i.readyState!==i.CONNECTING?i._socket!==null&&(i._socket._writableState.finished?(n(),o._readableState.endEmitted&&o.destroy()):(i._socket.once("finish",function(){n()}),i.close())):i.once("open",function(){o._final(n)})},o._read=function(){i.readyState!==i.OPEN||s||(s=!0,i._receiver._writableState.needDrain||i._socket.resume())},o._write=function(n,e,t){i.readyState!==i.CONNECTING?i.send(n,t):i.once("open",function(){o._write(n,e,t)})},o.on("end",_),o.on("error",u),o}},746:(g,m,f)=>{function h(_){return _>=1e3&&_<=1014&&_!==1004&&_!==1005&&_!==1006||_>=3e3&&_<=4999}function b(_){const u=_.length;let i=0;for(;i<u;)if(!(128&_[i]))i++;else if((224&_[i])==192){if(i+1===u||(192&_[i+1])!=128||(254&_[i])==192)return!1;i+=2}else if((240&_[i])==224){if(i+2>=u||(192&_[i+1])!=128||(192&_[i+2])!=128||_[i]===224&&(224&_[i+1])==128||_[i]===237&&(224&_[i+1])==160)return!1;i+=3}else{if((248&_[i])!=240||i+3>=u||(192&_[i+1])!=128||(192&_[i+2])!=128||(192&_[i+3])!=128||_[i]===240&&(240&_[i+1])==128||_[i]===244&&_[i+1]>143||_[i]>244)return!1;i+=4}return!0}try{let _=f(311);typeof _=="object"&&(_=_.Validation.isValidUTF8),g.exports={isValidStatusCode:h,isValidUTF8:u=>u.length<150?b(u):_(u)}}catch{g.exports={isValidStatusCode:h,isValidUTF8:b}}},284:(g,m,f)=>{const h=f(361),b=f(685),{createHash:_}=(f(687),f(808),f(404),f(113)),u=f(196),i=f(762),{format:d,parse:s}=f(503),{GUID:c,kWebSocket:l}=f(872),o=/^[+/0-9A-Za-z]{22}==$/;function n(a){a._state=2,a.emit("close")}function e(){this.destroy()}function t(a,p,v,x){a.writable&&(v=v||b.STATUS_CODES[p],x={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(v),...x},a.write(`HTTP/1.1 ${p} ${b.STATUS_CODES[p]}\r
`+Object.keys(x).map(y=>`${y}: ${x[y]}`).join(`\r
`)+`\r
\r
`+v)),a.removeListener("error",e),a.destroy()}function r(a){return a.trim()}g.exports=class extends h{constructor(a,p){if(super(),(a={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...a}).port==null&&!a.server&&!a.noServer||a.port!=null&&(a.server||a.noServer)||a.server&&a.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(a.port!=null?(this._server=b.createServer((v,x)=>{const y=b.STATUS_CODES[426];x.writeHead(426,{"Content-Length":y.length,"Content-Type":"text/plain"}),x.end(y)}),this._server.listen(a.port,a.host,a.backlog,p)):a.server&&(this._server=a.server),this._server){const v=this.emit.bind(this,"connection");this._removeListeners=function(x,y){for(const C of Object.keys(y))x.on(C,y[C]);return function(){for(const C of Object.keys(y))x.removeListener(C,y[C])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(x,y,C)=>{this.handleUpgrade(x,y,C,v)}})}a.perMessageDeflate===!0&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set),this.options=a,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(a&&this.once("close",a),this._state===2)return void process.nextTick(n,this);if(this._state===1)return;if(this._state=1,this.clients)for(const v of this.clients)v.terminate();const p=this._server;p&&(this._removeListeners(),this._removeListeners=this._server=null,this.options.port!=null)?p.close(n.bind(void 0,this)):process.nextTick(n,this)}shouldHandle(a){if(this.options.path){const p=a.url.indexOf("?");if((p!==-1?a.url.slice(0,p):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,p,v,x){p.on("error",e);const y=a.headers["sec-websocket-key"]!==void 0&&a.headers["sec-websocket-key"].trim(),C=+a.headers["sec-websocket-version"],U={};if(a.method!=="GET"||a.headers.upgrade.toLowerCase()!=="websocket"||!y||!o.test(y)||C!==8&&C!==13||!this.shouldHandle(a))return t(p,400);if(this.options.perMessageDeflate){const K=new u(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const Q=s(a.headers["sec-websocket-extensions"]);Q[u.extensionName]&&(K.accept(Q[u.extensionName]),U[u.extensionName]=K)}catch{return t(p,400)}}if(this.options.verifyClient){const K={origin:a.headers[C===8?"sec-websocket-origin":"origin"],secure:!(!a.socket.authorized&&!a.socket.encrypted),req:a};if(this.options.verifyClient.length===2)return void this.options.verifyClient(K,(Q,M,k,T)=>{if(!Q)return t(p,M||401,k,T);this.completeUpgrade(y,U,a,p,v,x)});if(!this.options.verifyClient(K))return t(p,401)}this.completeUpgrade(y,U,a,p,v,x)}completeUpgrade(a,p,v,x,y,C){if(!x.readable||!x.writable)return x.destroy();if(x[l])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return t(x,503);const U=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${_("sha1").update(a+c).digest("base64")}`],K=new i(null);let Q=v.headers["sec-websocket-protocol"];if(Q&&(Q=Q.split(",").map(r),Q=this.options.handleProtocols?this.options.handleProtocols(Q,v):Q[0],Q&&(U.push(`Sec-WebSocket-Protocol: ${Q}`),K._protocol=Q)),p[u.extensionName]){const M=p[u.extensionName].params,k=d({[u.extensionName]:[M]});U.push(`Sec-WebSocket-Extensions: ${k}`),K._extensions=p}this.emit("headers",U,v),x.write(U.concat(`\r
`).join(`\r
`)),x.removeListener("error",e),K.setSocket(x,y,this.options.maxPayload),this.clients&&(this.clients.add(K),K.on("close",()=>this.clients.delete(K))),C(K,v)}}},762:(g,m,f)=>{const h=f(361),b=f(687),_=f(685),u=f(808),i=f(404),{randomBytes:d,createHash:s}=f(113),{Readable:c}=f(781),{URL:l}=f(310),o=f(196),n=f(957),e=f(330),{BINARY_TYPES:t,EMPTY_BUFFER:r,GUID:a,kStatusCode:p,kWebSocket:v,NOOP:x}=f(872),{addEventListener:y,removeEventListener:C}=f(62),{format:U,parse:K}=f(503),{toBuffer:Q}=f(977),M=["CONNECTING","OPEN","CLOSING","CLOSED"],k=[8,13];class T extends h{constructor(R,D,Y){super(),this._binaryType=t[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=T.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,R!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(D)?D=D.join(", "):typeof D=="object"&&D!==null&&(Y=D,D=void 0),$(this,R,D,Y)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(R){t.includes(R)&&(this._binaryType=R,this._receiver&&(this._receiver._binaryType=R))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(R){}get onerror(){}set onerror(R){}get onopen(){}set onopen(R){}get onmessage(){}set onmessage(R){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(R,D,Y){const F=new n(this.binaryType,this._extensions,this._isServer,Y);this._sender=new e(R,this._extensions),this._receiver=F,this._socket=R,F[v]=this,R[v]=this,F.on("conclude",X),F.on("drain",V),F.on("error",Z),F.on("message",ee),F.on("ping",G),F.on("pong",H),R.setTimeout(0),R.setNoDelay(),D.length>0&&R.unshift(D),R.on("close",re),R.on("data",ne),R.on("end",ae),R.on("error",le),this._readyState=T.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=T.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[o.extensionName]&&this._extensions[o.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(R,D){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING)return N(this,this._req,"WebSocket was closed before the connection was established");this.readyState!==T.CLOSING?(this._readyState=T.CLOSING,this._sender.close(R,D,!this._isServer,Y=>{Y||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}ping(R,D,Y){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");typeof R=="function"?(Y=R,R=D=void 0):typeof D=="function"&&(Y=D,D=void 0),typeof R=="number"&&(R=R.toString()),this.readyState===T.OPEN?(D===void 0&&(D=!this._isServer),this._sender.ping(R||r,D,Y)):j(this,R,Y)}pong(R,D,Y){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");typeof R=="function"?(Y=R,R=D=void 0):typeof D=="function"&&(Y=D,D=void 0),typeof R=="number"&&(R=R.toString()),this.readyState===T.OPEN?(D===void 0&&(D=!this._isServer),this._sender.pong(R||r,D,Y)):j(this,R,Y)}send(R,D,Y){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof D=="function"&&(Y=D,D={}),typeof R=="number"&&(R=R.toString()),this.readyState!==T.OPEN)return void j(this,R,Y);const F={binary:typeof R!="string",mask:!this._isServer,compress:!0,fin:!0,...D};this._extensions[o.extensionName]||(F.compress=!1),this._sender.send(R||r,F,Y)}terminate(){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING)return N(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=T.CLOSING,this._socket.destroy())}}}function $(P,R,D,Y){const F={protocolVersion:k[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...Y,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!k.includes(F.protocolVersion))throw new RangeError(`Unsupported protocol version: ${F.protocolVersion} (supported versions: ${k.join(", ")})`);let ue;R instanceof l?(ue=R,P._url=R.href):(ue=new l(R),P._url=R);const Se=ue.protocol==="ws+unix:";if(!(ue.host||Se&&ue.pathname))throw new Error(`Invalid URL: ${P.url}`);const be=ue.protocol==="wss:"||ue.protocol==="https:",Ve=be?443:80,He=d(16).toString("base64"),Ke=be?b.get:_.get;let Le;if(F.createConnection=be?z:I,F.defaultPort=F.defaultPort||Ve,F.port=ue.port||Ve,F.host=ue.hostname.startsWith("[")?ue.hostname.slice(1,-1):ue.hostname,F.headers={"Sec-WebSocket-Version":F.protocolVersion,"Sec-WebSocket-Key":He,Connection:"Upgrade",Upgrade:"websocket",...F.headers},F.path=ue.pathname+ue.search,F.timeout=F.handshakeTimeout,F.perMessageDeflate&&(Le=new o(F.perMessageDeflate!==!0?F.perMessageDeflate:{},!1,F.maxPayload),F.headers["Sec-WebSocket-Extensions"]=U({[o.extensionName]:Le.offer()})),D&&(F.headers["Sec-WebSocket-Protocol"]=D),F.origin&&(F.protocolVersion<13?F.headers["Sec-WebSocket-Origin"]=F.origin:F.headers.Origin=F.origin),(ue.username||ue.password)&&(F.auth=`${ue.username}:${ue.password}`),Se){const he=F.path.split(":");F.socketPath=he[0],F.path=he[1]}let fe=P._req=Ke(F);F.timeout&&fe.on("timeout",()=>{N(P,fe,"Opening handshake has timed out")}),fe.on("error",he=>{fe===null||fe.aborted||(fe=P._req=null,P._readyState=T.CLOSING,P.emit("error",he),P.emitClose())}),fe.on("response",he=>{const ye=he.headers.location,Ce=he.statusCode;if(ye&&F.followRedirects&&Ce>=300&&Ce<400){if(++P._redirects>F.maxRedirects)return void N(P,fe,"Maximum redirects exceeded");fe.abort();const Me=new l(ye,R);$(P,Me,D,Y)}else P.emit("unexpected-response",fe,he)||N(P,fe,`Unexpected server response: ${he.statusCode}`)}),fe.on("upgrade",(he,ye,Ce)=>{if(P.emit("upgrade",he),P.readyState!==T.CONNECTING)return;fe=P._req=null;const Me=s("sha1").update(He+a).digest("base64");if(he.headers["sec-websocket-accept"]!==Me)return void N(P,ye,"Invalid Sec-WebSocket-Accept header");const we=he.headers["sec-websocket-protocol"],qe=(D||"").split(/, */);let E;if(!D&&we?E="Server sent a subprotocol but none was requested":D&&!we?E="Server sent no subprotocol":we&&!qe.includes(we)&&(E="Server sent an invalid subprotocol"),E)return void N(P,ye,E);we&&(P._protocol=we);const O=he.headers["sec-websocket-extensions"];if(O!==void 0){if(!Le)return void N(P,ye,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let ie;try{ie=K(O)}catch{return void N(P,ye,"Invalid Sec-WebSocket-Extensions header")}const se=Object.keys(ie);if(se.length){if(se.length!==1||se[0]!==o.extensionName)return void N(P,ye,"Server indicated an extension that was not requested");try{Le.accept(ie[o.extensionName])}catch{return void N(P,ye,"Invalid Sec-WebSocket-Extensions header")}P._extensions[o.extensionName]=Le}}P.setSocket(ye,Ce,F.maxPayload)})}function I(P){return P.path=P.socketPath,u.connect(P)}function z(P){return P.path=void 0,P.servername||P.servername===""||(P.servername=u.isIP(P.host)?"":P.host),i.connect(P)}function N(P,R,D){P._readyState=T.CLOSING;const Y=new Error(D);Error.captureStackTrace(Y,N),R.setHeader?(R.abort(),R.socket&&!R.socket.destroyed&&R.socket.destroy(),R.once("abort",P.emitClose.bind(P)),P.emit("error",Y)):(R.destroy(Y),R.once("error",P.emit.bind(P,"error")),R.once("close",P.emitClose.bind(P)))}function j(P,R,D){if(R){const Y=Q(R).length;P._socket?P._sender._bufferedBytes+=Y:P._bufferedAmount+=Y}D&&D(new Error(`WebSocket is not open: readyState ${P.readyState} (${M[P.readyState]})`))}function X(P,R){const D=this[v];D._closeFrameReceived=!0,D._closeMessage=R,D._closeCode=P,D._socket[v]!==void 0&&(D._socket.removeListener("data",ne),process.nextTick(J,D._socket),P===1005?D.close():D.close(P,R))}function V(){this[v]._socket.resume()}function Z(P){const R=this[v];R._socket[v]!==void 0&&(R._socket.removeListener("data",ne),process.nextTick(J,R._socket),R.close(P[p])),R.emit("error",P)}function oe(){this[v].emitClose()}function ee(P){this[v].emit("message",P)}function G(P){const R=this[v];R.pong(P,!R._isServer,x),R.emit("ping",P)}function H(P){this[v].emit("pong",P)}function J(P){P.resume()}function re(){const P=this[v];let R;this.removeListener("close",re),this.removeListener("data",ne),this.removeListener("end",ae),P._readyState=T.CLOSING,this._readableState.endEmitted||P._closeFrameReceived||P._receiver._writableState.errorEmitted||(R=P._socket.read())===null||P._receiver.write(R),P._receiver.end(),this[v]=void 0,clearTimeout(P._closeTimer),P._receiver._writableState.finished||P._receiver._writableState.errorEmitted?P.emitClose():(P._receiver.on("error",oe),P._receiver.on("finish",oe))}function ne(P){this[v]._receiver.write(P)||this.pause()}function ae(){const P=this[v];P._readyState=T.CLOSING,P._receiver.end(),this.end()}function le(){const P=this[v];this.removeListener("error",le),this.on("error",x),P&&(P._readyState=T.CLOSING,this.destroy())}Object.defineProperty(T,"CONNECTING",{enumerable:!0,value:M.indexOf("CONNECTING")}),Object.defineProperty(T.prototype,"CONNECTING",{enumerable:!0,value:M.indexOf("CONNECTING")}),Object.defineProperty(T,"OPEN",{enumerable:!0,value:M.indexOf("OPEN")}),Object.defineProperty(T.prototype,"OPEN",{enumerable:!0,value:M.indexOf("OPEN")}),Object.defineProperty(T,"CLOSING",{enumerable:!0,value:M.indexOf("CLOSING")}),Object.defineProperty(T.prototype,"CLOSING",{enumerable:!0,value:M.indexOf("CLOSING")}),Object.defineProperty(T,"CLOSED",{enumerable:!0,value:M.indexOf("CLOSED")}),Object.defineProperty(T.prototype,"CLOSED",{enumerable:!0,value:M.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(P=>{Object.defineProperty(T.prototype,P,{enumerable:!0})}),["open","error","close","message"].forEach(P=>{Object.defineProperty(T.prototype,`on${P}`,{enumerable:!0,get(){const R=this.listeners(P);for(let D=0;D<R.length;D++)if(R[D]._listener)return R[D]._listener},set(R){const D=this.listeners(P);for(let Y=0;Y<D.length;Y++)D[Y]._listener&&this.removeListener(P,D[Y]);this.addEventListener(P,R)}})}),T.prototype.addEventListener=y,T.prototype.removeEventListener=C,g.exports=T},113:g=>{g.exports=yn},361:g=>{g.exports=vn()},147:g=>{g.exports=_n},685:g=>{g.exports=bn},687:g=>{g.exports=Sn},808:g=>{g.exports=xn},37:g=>{g.exports=Pn},17:g=>{g.exports=An},477:g=>{g.exports=Tn},781:g=>{g.exports=qn},404:g=>{g.exports=Nn},310:g=>{g.exports=di()},796:g=>{g.exports=vi}},B={};function A(g){var m=B[g];if(m!==void 0)return m.exports;var f=B[g]={exports:{}};return q[g].call(f.exports,f,f.exports,A),f.exports}A.n=g=>{var m=g&&g.__esModule?()=>g.default:()=>g;return A.d(m,{a:m}),m},A.d=(g,m)=>{for(var f in m)A.o(m,f)&&!A.o(g,f)&&Object.defineProperty(g,f,{enumerable:!0,get:m[f]})},A.o=(g,m)=>Object.prototype.hasOwnProperty.call(g,m),A.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var W={};return(()=>{var g=W;Object.defineProperty(g,"__esModule",{value:!0}),g.Deepgram=void 0;var m=A(986),f=A(292),h=A(319),b=A(487),_=A(321),u=A(949),i=A(359),d=A(343),s=A(647),c=A(298),l=A(98);g.Deepgram=function(o,n,e){this._apiKey=o,this._apiUrl=n||m.DefaultOptions.apiUrl,this._requireSSL=e||m.DefaultOptions.requireSSL,(0,c.validateOptions)(this._apiKey,this._apiUrl),this.keys=new f.Keys(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.projects=new h.Projects(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.transcription=new b.Transcriber(this._apiKey,this._apiUrl,this._requireSSL),this.usage=new _.Usage(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.members=new u.Members(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.invitation=new i.Invitation(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.billing=new d.Billing(this._apiKey,this._apiUrl,this._requireSSL,l._request),this.scopes=new s.Scopes(this._apiKey,this._apiUrl,this._requireSSL,l._request)}})(),W})())})(Zt);var mi=Zt.exports;window.document.getElementById("captions");let Ie=null,pe=null,de=null,_e="",zt,je,We=!1,_i=!1;async function gi(){return Ie=await navigator.mediaDevices.getUserMedia({audio:!0}),new MediaRecorder(Ie)}async function bi(){_e="";try{window.shutUp()}catch(w){console.warn("error interrupting avatar",w)}if(pe)try{pe.stop(),pe.removeAllListeners(),pe=null}catch(w){console.warn("error closing microphone",w)}pe=await gi(),await pe.start(50),pe.onstart=()=>{console.log("client: microphone opened"),document.body.classList.add("recording")},pe.onstop=()=>{console.log("client: microphone closed"),document.body.classList.remove("recording");try{pe.removeAllListeners()}catch{}pe=null},pe.ondataavailable=w=>{const S=w.data;console.log("client: sent data to websocket"),de.send(S)}}async function wi(){if(!pe){console.log("microphone undefined or not open, not running close code");return}try{pe.stop()}catch{}setTimeout(()=>{try{pe.removeAllListeners()}catch{}if(_e&&_e!="")try{let w=_e;_e==""&&(w=userInput.value),window.handleSpeak(w)}catch(w){console.warn("error calling handleSpeak",w)}_e="",console.log("closing and cleaning up microphone");try{Ie&&Ie.getTracks().forEach(w=>{w.stop()})}catch{}Ie=null,console.log("client: microphone closed"),document.body.classList.remove("recording"),pe=null,setTimeout(()=>{ze()},30)},50)}function Ge(w){console.log("mousedown event"),w.preventDefault(),bi()}function Ee(w){console.log("mouseup event"),w.preventDefault(),setTimeout(wi,250)}async function Si(w){const S=document.getElementById("record");if(!S){console.warn("no listen button found");return}if(S)try{S.removeEventListener("mousedown",Ge),S.removeEventListener("touchstart",Ge),S.removeEventListener("mouseup",Ee),S.removeEventListener("mouseleave",Ee),S.removeEventListener("touchend",Ee),S.removeEventListener("touchcancel",Ee)}catch{console.log("no button listeners to remove")}if(console.log("client: waiting to open microphone"),S.addEventListener("mousedown",Ge),S.addEventListener("touchstart",Ge),S.addEventListener("mouseup",Ee),S.addEventListener("mouseleave",Ee),S.addEventListener("touchend",Ee),S.addEventListener("touchcancel",Ee),zt)try{clearInterval(zt)}catch{}zt=setInterval(()=>{try{w&&(w.keepAlive(),console.log("sent keepalive"))}catch(L){console.log("error keeping connection alive",L)}},1e4)}async function ze(){if(We){console.log("already initializing TTS, returning");return}We=!0;try{const w="a2dae355bff63649e396812508e25624420fc377";if(de){try{de.removeAllListeners()}catch(S){console.warn("error removing socket listeners",S)}de=void 0}je&&(je=void 0),je=mi.createClient(w),de=je.listen.live({model:"nova-2",smart_format:!0,interim_results:!0,punctuate:!0,numerals:!0,endpointing:50}),de.on("open",async()=>{console.log("%c socket open event","background: green; color: yellow"),console.log("client: connected to websocket")}),de.on("Results",async S=>{console.log("%c socket results event"+JSON.stringify(S),"background: blue; color: yellow"),console.log(S);const L=S.channel.alternatives[0].transcript;if(L!==""){try{await window.shutUp()}catch(q){console.warn("error shutting up avatar",q)}userInput.value=L,S.is_final&&(_e+=L+" ",userInput.value=_e,_i||(handleSpeak(_e!=""?_e:userInput.value),_e="",await new Promise(q=>setTimeout(q,100)),userInput.value=""))}}),de.on("error",S=>{console.error(S),de.removeAllListeners(),setTimeout(()=>{console.log("%c socket error, reset","background: green; color: yellow"),ze()},30)}),de.on("warning",S=>console.warn(S)),de.on("Metadata",S=>console.log(S)),de.on("close",S=>{console.log("%c socket close, reset","background: green; color: yellow"),console.log(S),de.removeAllListeners(),setTimeout(()=>{We||ze()},30)}),await Si(de)}catch(w){console.error("error in inittts",w)}finally{We=!1}}window.addEventListener("load",async()=>{console.log("Initializing TTS"),await ze()});function nn(){document.querySelectorAll("chat-form").forEach(S=>{const L=S.shadowRoot.querySelector("#chat-right-insert");if(L){const q=document.createElement("chat-tts");L.appendChild(q),L.style.display="flex",L.style.alignItems="center",L.style.marginRight="10px"}})}window.addEventListener("load",()=>{setTimeout(nn,100)}),new MutationObserver(w=>{w.forEach(S=>{S.addedNodes.forEach(L=>{L.nodeName==="CHAT-FORM"&&setTimeout(()=>nn(),100)})})}).observe(document.body,{childList:!0,subtree:!0})})();
